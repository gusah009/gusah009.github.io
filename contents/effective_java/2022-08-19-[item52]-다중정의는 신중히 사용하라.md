---
date: '2022-08-19'
title: '[item52] 다중정의는 신중히 사용하라'
categories: ['effective_java']
summary: '다중정의는 컴파일타임에 정적으로 정해지고, 재정의는 런타임에 동적으로 정해집니다.'
thumbnail: './effective_java_thumb.png'
---

> **다중정의는 신중히 사용하라**

다중정의는 **컴파일타임에 정적**으로 정해지고, 재정의는 **런타임에 동적**으로 정해집니다.

## 다중정의의 위험성
위에서 언급한 것 처럼, 다중정의는 컴파일타임에 정적으로 정해집니다. 책에 나온 예시처럼 **내부적으로 어떤 타입인지는 런타임에 결정**됩니다. 보통의 프로그래머가 기대한 것처럼 동작하지 않기 때문에 특히 조심해야 합니다.

### 매개변수 수가 같은 다중정의는 만들지 말자
안전하고 보수적으로 가려면 매개변수 수가 같은 다중정의는 만들지 않는 것이 좋습니다. 책의 예시가 그 이유를 확실하게 보여주고 있습니다.

또, 매개변수 수가 같은 다중정의를 하면서 위험성을 안고 갈 바에, 메서드 이름을 다르게 지어주는 길도 열려있습니다.

### 생성자는 어쩔 수 없이 다중정의를 해야 한다
생성자는 어쩔 수 없이 두 번째 생성자부터 반드시 다중정의가 됩니다. 이 때엔 **정적 팩터리**라는 대안을 활용할 수 있습니다.

어쩔 수 없이 같은 매개변수 개수를 가진 다중정의 메서드를 만든다 하더라도, 매개변수 중 하나 이상이 서로 형변환 할 수 없는 **근본적으로 다르다**면 문제가 없습니다.

## 결론
프로그래밍 언어가 다중정의를 허용한다고 해서 꼭 다중정의를 활용하란 뜻은 아닙니다. 

일반적으로 매개변수 수가 같을 때는 다중정의를 피하는 것이 좋습니다.

생성자 같은 경우, 이 조언을 따르기가 불가능 할 수 있기 때문에 그럴 때에는 헷갈릴 만한 매개변수는 형변환하여 정확한 다중정의 메서드가 선택되도록 하는 게 좋습니다.