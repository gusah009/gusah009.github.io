---
date: '2022-07-20'
title: '[item28] 배열보다는 리스트를 사용하라'
categories: ['effective_java']
summary: '배열과 제네릭 타입의 차이는 공변에 있습니다. 차이를 간단하게 설명하자면 Sub가 Super의 하위 타입이라면 배열 Sub[]는 Super[]의 하위타입이 되지만, `List<Sub>`는  `List<Super>`의 상위 타입도, 하위 타입도 아니게 됩니다.'
thumbnail: './effective_java_thumb.png'
---

> **배열보다는 리스트를 사용하라**

배열과 제네릭 타입의 차이는 **공변**에 있습니다. 차이를 간단하게 설명하자면 Sub가 Super의 하위 타입이라면 배열 Sub[]는 Super[]의 하위타입이 되지만, `List<Sub>`는  `List<Super>`의 상위 타입도, 하위 타입도 아니게 됩니다.

또, 제네릭은 런타임시에 타입 정보가 소거되고, 오직 컴파일 시에만 검사하기 때문에 타입 검사를 할 필요가 없지만 배열은 런타임시에도 항상 자신이 담은 원소의 타입을 인지하고 확인합니다.

## 제네릭 배열
이러한 차이 떄문에 `new List<E>[]`, `new List<String[]`과 같은 제네릭 배열은 생성할 수 없습니다. 

배열 `E[]` 대신 컬렉션 `List<E>`를 사용하면 비검사 형변환 경고를 해결할 수 있지만 배열을 제네릭으로 만들 수 없어서 귀찮을 때도 있습니다. 제네릭을 사용함으로써 코드가 조금 복잡해지고 성능이 나빠질 수도 있지만, 타입 안정성과 상호운용성이 좋아지기 때문에 이를 사용하는 것을 추천합니다.