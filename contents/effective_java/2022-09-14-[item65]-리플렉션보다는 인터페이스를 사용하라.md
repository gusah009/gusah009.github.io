---
date: '2022-09-14'
title: '[item65] 리플렉션보다는 인터페이스를 사용하라'
categories: ['effective_java']
summary: '`Java`의 리플렉션 기능(`java.lang.reflect`)은 프로그램에서 임의의 클래스에 접근할 수 있게 해줍니다. 이번 장에서는 이런 매력적인 리플렉션 기능의 단점과, 사용해도 좋은 경우에 대해 알아보겠습니다.'
thumbnail: './effective_java_thumb.png'
---

> **리플렉션보다는 인터페이스를 사용하라**

`Java`의 리플렉션 기능(`java.lang.reflect`)은 프로그램에서 임의의 클래스에 접근할 수 있게 해줍니다. 이번 장에서는 이런 매력적인 **리플렉션 기능의 단점**과, **사용해도 좋은 경우**에 대해 알아보겠습니다.

## 리플렉션 단점
1. 컴파일 타입 검사가 주는 이점을 하나도 누릴 수 없다.
2. 리플렉션을 이용하면 코드가 지저분하고 장황해진다.
3. 성능이 떨어진다.

## 사용해도 좋은 경우
1. 책에 나온 예제처럼 **인스턴스 생성에만** 사용하는 경우
  - 하지만 이 경우 역시 책에서 언급한 것 처럼 **런타임에 아주 많은 경우의 예외**를 일으킬 수 있고, **코드가 장황해진다**는 단점이 있습니다.
2. `Json`을 다루는 `Jackson`라이브러리나 `JPA`라이브러리처럼 기본 생성자를 가지고 수정할 수 없는 필드(`Setter`가 제공되지 않는 필드)에 값을 주입해야 하는 경우

## 결론
리플렉션은 복잡한 특수 시스템을 개발할 때 필요한 강력한 기능이지만, 단점도 많습니다.

**컴파일 타임에 알 수 없는 클래스**를 사용하는 프로그램을 작성하려 한다면 리플렉션을 고려해볼만 합니다.

단, **되도록 객체 생성에만 사용**하고, 생성한 객체를 이용할 때는 적절한 **인터페이스나 상위 클래스로 형변환**하여 사용합시다.