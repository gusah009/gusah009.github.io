---
date: '2022-07-13'
title: '[item18] 상속보다는 컴포지션을 사용하라'
categories: ['effective_java']
summary: '상속은 코드를 재사용하는 강력한 수단이지만 항상 최선은 아닙니다. 하지만 확장할 목적으로 설계되었고 문서화가 잘 된 클래스가 아니라면 상속은 오류를 유발할 수 있습니다.'
thumbnail: './effective_java_thumb.png'
---

> **상속보다는 컴포지션을 사용하라**

상속은 코드를 재사용하는 강력한 수단이지만 항상 최선은 아닙니다. 하지만 확장할 목적으로 설계되었고 문서화가 잘 된 클래스가 아니라면 **상속은 오류를 유발할 수 있습니다.**

## 상속은 캡슐화를 깨뜨린다.
하위 클래스는 상위 클래스의 메서드나 필드를 그대로 사용하기 때문에, 상위 클래스가 다음 릴리스 때 내부 구현이 바뀐다면 하위 클래스가 오작동 할 수 있습니다. 이는 내부 구현을 숨기고, **클라이언트에게 제공하고자 하는 것만 제공하는 객체 지향의 캡슐화 원칙을 깨뜨릴 수 있습니다.** 

책에서 나온 것과 같이 메서드를 오버라이딩 하는 과정에서 항상 상위 클래스에 의존적일 수 밖에 없습니다.

## 차라리 그렇다면 컴포지션을 사용하자!
저자는 기존 클래스를 확장하는 대신 새로운 클래스를 만들고 `private`필드로 기존 클래스의 인스턴스를 참조하게 하는 것을 권장하고 있습니다. 이를 **컴포지션**이라고 부르며 기존 클래스의 내부 구현 방식과 관계 없이 코드를 작성할 수 있다는 장점이 생깁니다.

## 요약
이번 장은 굉장히 짧게 끝났는데, 왠만한 상황에선 상속 대신 컴포지션을 쓰는 게 낫기 때문입니다. 상속이 나은 경우는 다음 장에서 살펴보도록 하겠습니다.