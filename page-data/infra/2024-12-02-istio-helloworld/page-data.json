{"componentChunkName":"component---src-templates-post-template-tsx","path":"/infra/2024-12-02-istio-helloworld/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p><a href=\"https://istio.io/latest/docs/ambient/getting-started/\" target=\"_blank\" rel=\"nofollow\">Getting Started</a></p>\n<pre class=\"grvsc-container default-dark\" data-language=\"bash\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">curl -L https://istio.io/downloadIstio | sh -</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">cd</span><span class=\"mtk1\"> istio-1.24.1</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">export</span><span class=\"mtk1\"> PATH=</span><span class=\"mtk12\">$PWD</span><span class=\"mtk1\">/bin:</span><span class=\"mtk12\">$PATH</span></span></span></code></pre>\n<p>istio엔 kubectl같이 istio를 유용하게 사용할 수 있는 <strong><code class=\"language-text\">istioctl</code></strong> 이라는 명령어 도구를 제공합니다.</p>\n<p>종종 사용할 수 있으니 미리 깔아두면 좋습니다.</p>\n<h2>istio 설치</h2>\n<p>이번에 설치할 istio는 ambient 모드입니다.</p>\n<p><code class=\"language-text\">--skip-confirmation</code> 옵션은 설치 과정에서 사용자 확인을 건너뛰는 옵션으로, linux에서 패키지 설치 시에 주는 <code class=\"language-text\">-y</code> 옵션과 비슷하다고 보면 됩니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"bash\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">istioctl install --set profile=ambient --skip-confirmation</span></span></span></code></pre>\n<p>여기를 보면 istio core도 설치됐고, CNI도 설치됐고 Ztunnel도 설치됐다고 나오네요.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 422px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ea884676e2319dccb84c86f676dcae2a/de25e/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.79166666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB1UlEQVQoz12SSW7bQBBFmxo4mJNIkRIkUhzEWRxEyXIEIQs7DpBVzpBtFjlANkEOlEv+oEo2AmRRKHSh8fv/Vy0UTUA3NATbAJvNBqvVCqZpQlVVeJ7HM13XYRgG1us1F8222y1Wvo80iSFN5xgTE4GjQdjeFIapoSorpGmKpmn4sm3bOB6PfHYcB8vlEufzme90bcu9bGq8fH7FXFHx/SnAZbuAeLAkLBwDh0OLoixQliULJUkC13UxjiMOhwPatkWe5/xAO3TwHRd/fvzGt49fIISAENK96/YEqqagfHMYBAF3y7I4OgnTIzT3KGIUo6taaJqO17jBY5CykMSiAmLhz2CYKp6fX3C73TCdTlnker2i73t2VNc1hr7HcBphSyo+eT0W0vzN2X+l6hPIygxVVWO32/EiqEdRxOzCMORFketdFMF3lwjXIXzPhyLLiOIUsqz8E3TXM5jWAzOkaKfTieETM3JbFAXjyPIMl8sFQRji/HjCMIzwfRO/fn6Facr32JKAkDUB09JR1w27oiL4xGy/37OzOI6RZRkURWHHtCQ6p2mCD08D8jzDZDK5O3RWM+imhqIo2c37RikmbZsEadZ1Hf9NYkqsKQWxLsqKGb8L/gUh0e3rXOgRrgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/ea884676e2319dccb84c86f676dcae2a/a59e9/image.webp 192w,\n/static/ea884676e2319dccb84c86f676dcae2a/0ca9f/image.webp 384w,\n/static/ea884676e2319dccb84c86f676dcae2a/7103a/image.webp 422w\"\n              sizes=\"(max-width: 422px) 100vw, 422px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/ea884676e2319dccb84c86f676dcae2a/3b721/image.png 192w,\n/static/ea884676e2319dccb84c86f676dcae2a/66595/image.png 384w,\n/static/ea884676e2319dccb84c86f676dcae2a/de25e/image.png 422w\"\n            sizes=\"(max-width: 422px) 100vw, 422px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/ea884676e2319dccb84c86f676dcae2a/de25e/image.png\"\n            alt=\"image.png\"\n            title=\"image.png\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>istio-system이라는 namespace가 하나 생성되고, 그 안엔 <code class=\"language-text\">istio-cni</code>와 <code class=\"language-text\">istiod</code> 데몬, <code class=\"language-text\">ztunnel daemonset</code>이 떠 있는 것을 볼 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f1e2300c23cbfc0b108995526806af08/5fbd7/image1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 10.416666666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAnUlEQVQI1wXBQQvBYACAYbWlkJrZMmyzOJk4ELavr/ATHFycJCU1sx0kBxeH2fanX89TMaw+HW+EUm8ysHVqjovqerQ0m3bNxvcsBiMDbb7E2GxR/AmWPkYzHKqzIcp+gdq1MHsuDd2k4q12yOjL9HBjdkyRjwIZ/xBJjkhz1veCIC4R5xfi9ERGGWGSIR45Mi6QUY5MSsLLm+D64Q+/rERi4agLMgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/f1e2300c23cbfc0b108995526806af08/a59e9/image1.webp 192w,\n/static/f1e2300c23cbfc0b108995526806af08/0ca9f/image1.webp 384w,\n/static/f1e2300c23cbfc0b108995526806af08/dc9b9/image1.webp 768w,\n/static/f1e2300c23cbfc0b108995526806af08/e2c2f/image1.webp 1152w,\n/static/f1e2300c23cbfc0b108995526806af08/7974c/image1.webp 1276w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/f1e2300c23cbfc0b108995526806af08/3b721/image1.png 192w,\n/static/f1e2300c23cbfc0b108995526806af08/66595/image1.png 384w,\n/static/f1e2300c23cbfc0b108995526806af08/fe486/image1.png 768w,\n/static/f1e2300c23cbfc0b108995526806af08/d2d74/image1.png 1152w,\n/static/f1e2300c23cbfc0b108995526806af08/5fbd7/image1.png 1276w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/f1e2300c23cbfc0b108995526806af08/fe486/image1.png\"\n            alt=\"image.png\"\n            title=\"image.png\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 366px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3fcd9d9a300a0c92e143eca2f74afcd4/b18e8/image2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.854166666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAAB2UlEQVQoz32SW1PiQBCFEyAh5EbIdUIuQgRZLiFWRIG1dHXLfdin9f//mWN1ByrquvswmamZ9OmvT7ckSRJ0L4IVX8AME5hhCmVgYDAKYIoMmuNBNWxYIsdosoBzcYVefwDdE3CLJd/Tf6ppg7Qk+gSLa3izDYbpJeLqCDPKMJp+4+VerjlRuNoh278gqR9gRinHpLsnBMsaw2wG3RetoBHETaYo5dXta9Acn8+09zSdRSmQVlfVmNoIxhi4IZzPgv5VdSIsEG+PsMR7whULM+HhBeP6AVacwy1WsJMpxxZPfzj2HeH4AyF5dCYkL8lTOreEfWhDj+n8eQl3uuQqviasjpzg3IBzOeRZfvjFvlH59EZCREuxhh9/RZixn/Z4wl108jnEZs97tL7lSVANq/EtnzcVOH4jJMutoDcvGZ08ocC4+t7QXt8jvfvJO9H5i4pHhfwLVzconl/5/iTUCjr5DLrbzCLRnedRljtMQvdkAb11ekobLHcgd7ofBekHykhmp7fP8GYlRLlnAfJObI8Q2wOi9Q7JzQ/07dHnEv8mbDyL2EsjTNhHnkdFZePpnppANii6+S+hE6GiIlzWHDi5/30ieeTOUZOS+hGiPCDa3HFiGuj/Cb4BT8cqoQ2i+1kAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/3fcd9d9a300a0c92e143eca2f74afcd4/a59e9/image2.webp 192w,\n/static/3fcd9d9a300a0c92e143eca2f74afcd4/fe2f8/image2.webp 366w\"\n              sizes=\"(max-width: 366px) 100vw, 366px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/3fcd9d9a300a0c92e143eca2f74afcd4/3b721/image2.png 192w,\n/static/3fcd9d9a300a0c92e143eca2f74afcd4/b18e8/image2.png 366w\"\n            sizes=\"(max-width: 366px) 100vw, 366px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/3fcd9d9a300a0c92e143eca2f74afcd4/b18e8/image2.png\"\n            alt=\"image.png\"\n            title=\"image.png\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h3>istio 설치</h3>\n<p>istio를 이용해서 우선 gateway 없이 istio를 설치하도록 합시다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"bash\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">istioctl install -f [samples/bookinfo/demo-profile-no-gateways.yaml](https://raw.githubusercontent.com/istio/istio/release-1.25/samples/bookinfo/demo-profile-no-gateways.yaml) -y</span></span></span></code></pre>\n<p>그리고 namespace에 istio-injection=enabled를 추가해 이 namespace에서 파드가 뜰 때  자동으로 envoy 사이드카 프록시를 주입해주도록 해둡니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"bash\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">kubectl label namespace default istio-injection=enabled</span></span></span></code></pre>\n<h3>k8s Gateway API CRD 설치</h3>\n<blockquote>\n<p>Kubernetes Gateway API는 쿠버네티스 클러스터에서 <strong>트래픽 라우팅을 보다 유연하고 표준화된 방식으로 구성</strong>할 수 있도록 설계된 API입니다. 기존의 Ingress API를 대체하거나 보완하는 역할을 하며, 특히 다음과 같은 특징이 있습니다:</p>\n<ul>\n<li><strong>더 정교한 트래픽 라우팅</strong>: HTTP, TCP, gRPC 등 다양한 프로토콜에 대해 더 세밀한 라우팅 규칙을 설정할 수 있습니다.</li>\n<li><strong>컨트롤러와의 유연한 통합</strong>: Gateway API는 여러 네트워크 제공자(예: Istio, NGINX, Envoy 등)와 쉽게 통합되도록 설계되었습니다.</li>\n<li><strong>추상화된 자원 모델</strong>: Gateway, GatewayClass, HTTPRoute와 같은 리소스를 사용해 트래픽 라우팅을 정의합니다.</li>\n</ul>\n</blockquote>\n<p>k8s Gateway API가 설치되어 있지 않다면 설치해줍니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"bash\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">kubectl get crd gateways.gateway.networking.k8s.io &amp;&gt; /dev/null || \\</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">kubectl apply -f https://github.com/kubernetes-sigs/gateway-api/releases/download/v1.2.1/standard-install.yaml</span></span></span></code></pre>\n<h3>Deploy a sample application</h3>\n<p>다음으로 테스트에 사용할 응용 프로그램들을 설치합니다.</p>\n<p>전체 구조는 아래와 같이 구성될 예정입니다.</p>\n<p><img src=\"/8d0bae6bd513858cb4212d6b0a545cd3/bookinfo.svg\" alt=\"bookinfo.svg\"></p>\n<p>블로그를 따라 구성하면 default namespace에 리소스들이 생깁니다.</p>\n<p>다음으로 gateway를 배포합니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"yaml\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">apiVersion</span><span class=\"mtk1\">: </span><span class=\"mtk8\">gateway.networking.k8s.io/v1</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">kind</span><span class=\"mtk1\">: </span><span class=\"mtk8\">Gateway</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">metadata</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">name</span><span class=\"mtk1\">: </span><span class=\"mtk8\">bookinfo-gateway</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">spec</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">gatewayClassName</span><span class=\"mtk1\">: </span><span class=\"mtk8\">istio</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">listeners</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  - </span><span class=\"mtk4\">name</span><span class=\"mtk1\">: </span><span class=\"mtk8\">http</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">port</span><span class=\"mtk1\">: </span><span class=\"mtk7\">80</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">protocol</span><span class=\"mtk1\">: </span><span class=\"mtk8\">HTTP</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">allowedRoutes</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">namespaces</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">from</span><span class=\"mtk1\">: </span><span class=\"mtk8\">Same</span><span class=\"mtk1\"> </span><span class=\"mtk3\"># 같은 네임스페이스에 대해서만 라우팅!</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">---</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">apiVersion</span><span class=\"mtk1\">: </span><span class=\"mtk8\">gateway.networking.k8s.io/v1</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">kind</span><span class=\"mtk1\">: </span><span class=\"mtk8\">HTTPRoute</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">metadata</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">name</span><span class=\"mtk1\">: </span><span class=\"mtk8\">bookinfo</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">spec</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">parentRefs</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  - </span><span class=\"mtk4\">name</span><span class=\"mtk1\">: </span><span class=\"mtk8\">bookinfo-gateway</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">rules</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  - </span><span class=\"mtk4\">matches</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    - </span><span class=\"mtk4\">path</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">type</span><span class=\"mtk1\">: </span><span class=\"mtk8\">Exact</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">value</span><span class=\"mtk1\">: </span><span class=\"mtk8\">/productpage</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    - </span><span class=\"mtk4\">path</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">type</span><span class=\"mtk1\">: </span><span class=\"mtk8\">PathPrefix</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">value</span><span class=\"mtk1\">: </span><span class=\"mtk8\">/static</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    - </span><span class=\"mtk4\">path</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">type</span><span class=\"mtk1\">: </span><span class=\"mtk8\">Exact</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">value</span><span class=\"mtk1\">: </span><span class=\"mtk8\">/login</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    - </span><span class=\"mtk4\">path</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">type</span><span class=\"mtk1\">: </span><span class=\"mtk8\">Exact</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">value</span><span class=\"mtk1\">: </span><span class=\"mtk8\">/logout</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    - </span><span class=\"mtk4\">path</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">type</span><span class=\"mtk1\">: </span><span class=\"mtk8\">PathPrefix</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">value</span><span class=\"mtk1\">: </span><span class=\"mtk8\">/api/v1/products</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">backendRefs</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    - </span><span class=\"mtk4\">name</span><span class=\"mtk1\">: </span><span class=\"mtk8\">productpage</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">port</span><span class=\"mtk1\">: </span><span class=\"mtk7\">9080</span></span></span></code></pre>\n<p>다음으로 gateway를 포트포워딩 한 뒤 <a href=\"http://localhost:8080/productpage\" target=\"_blank\" rel=\"nofollow\"><code class=\"language-text\">http://localhost:8080/productpage</code></a> 에 접속해보면 아래와 같은 리뷰 창이 뜨는데, reviewer 파드는 서빙하는 주체에 따라 계속 바뀜을 알 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a5a315ad53da572c9b475a48379c29a3/05de1/image4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 65.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACOklEQVQ4y2WSW3eaQBSF8/9/Tp+6mnY1MYkiqBW8oYkS7yA3geGixn5dg9Fq+7BnOHNm9jl7c+7SHNbOltnCvWCx8onFBzInst+X/Rry7Dp/xl1WgNF95aXWpNHqoqhtFFVn4wlk7ppAxvmOm/PrgiWhXOSl4WjK2FphTe0y+S+Z7Nh6t+kPJrxNlv91fEMoA8dN8IIMP8xJ0uONjNOdY5lz/RQ/zP6TfEMoq/eHM7TWgGrdoPHLLPFUbfNc04mSQ6mib055qRsoWg+1OUBrmcxXwUXNxcNwu6Py0kLRuuX+46HOw1MTozvGHM3JckjEB2qjx+Nzk5+VxqW4fKOoXexNUhYtO4zEB98rDe4fNZ7rHTR9RLtnEWeQ7SHdQZJD03ijohhUtR6Vms6TYqC1R2zCnEgcPyUXEAUpQ32Arup0m11SP6GIMrIwLb/PqFdUvn75xuN9hdqDgqF1aKs6rWqTzTo4dSgK2LlbFqbFZhlgmRamMcRbegRrHyHJAkHixUwGY0zdRNc6vI/e2cUFu2RP4W7JnAAhCZMC9ltBvd5hsgxZu4LpMmBuR0xmHraXIosWB1g4MQsnZe0m9EZzbE/gRXvibU7qRidCuaSbkEwcyI/g+Blhcii9k75JlCqO0O5PeZ262H7KyHJYOjHjuc9itik5xFly6kWk9kledvbMi//658UIL6YIBfsoI1h5RHZAEabkYVrKlRyS607IAZWDLH9AcIXwav+ECCQEmRzsz1j6W+azI5LrDw28zcfpVmUuAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/a5a315ad53da572c9b475a48379c29a3/a59e9/image4.webp 192w,\n/static/a5a315ad53da572c9b475a48379c29a3/0ca9f/image4.webp 384w,\n/static/a5a315ad53da572c9b475a48379c29a3/dc9b9/image4.webp 768w,\n/static/a5a315ad53da572c9b475a48379c29a3/e2c2f/image4.webp 1152w,\n/static/a5a315ad53da572c9b475a48379c29a3/a6468/image4.webp 1414w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/a5a315ad53da572c9b475a48379c29a3/3b721/image4.png 192w,\n/static/a5a315ad53da572c9b475a48379c29a3/66595/image4.png 384w,\n/static/a5a315ad53da572c9b475a48379c29a3/fe486/image4.png 768w,\n/static/a5a315ad53da572c9b475a48379c29a3/d2d74/image4.png 1152w,\n/static/a5a315ad53da572c9b475a48379c29a3/05de1/image4.png 1414w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/a5a315ad53da572c9b475a48379c29a3/fe486/image4.png\"\n            alt=\"스크린샷 2025-03-31 17.28.44.png\"\n            title=\"스크린샷 2025-03-31 17.28.44.png\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>이는 productPage가 reviews svc를 바라보고 있기 때문에 부하 분산을 자동으로 시켜주기 때문입니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e4197302f98557cc62bcaefbeabaf9ab/07220/image3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 22.395833333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAABDUlEQVQY022NO0/CYABFv1JLKZRCPyitFEQKmEhlMb4TXtEBBwf+g2Fw8JGIL2LioMTFKJoYN+MvPYa6OtzhnNzcK2zHwy1XUPQkTs5E5i2kV8LyS8QKLjEzi1+WFMMVCusbpFsh2VxAXdTw8jUqa028wx0yw23U6iKi0R5wcPXC7umU/t0n7fEbvYtn9kYTNo8ndK/f6Vy+0jubsn8+pXPywNbonvbNjP7tB0eP3wyffhhMvuiOZwhDuthBiAyaGLaDGtdJF5eR9RayuoqqG8RNCztoRj27FpJdaqBqOguJJIqmI7Q4MT0RsUhkcqS9MqZbisaEEOiWHbn5wZyFopByipgFP4pmpP78P/kFd5J0qgTzFr4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/e4197302f98557cc62bcaefbeabaf9ab/a59e9/image3.webp 192w,\n/static/e4197302f98557cc62bcaefbeabaf9ab/0ca9f/image3.webp 384w,\n/static/e4197302f98557cc62bcaefbeabaf9ab/dc9b9/image3.webp 768w,\n/static/e4197302f98557cc62bcaefbeabaf9ab/e2c2f/image3.webp 1152w,\n/static/e4197302f98557cc62bcaefbeabaf9ab/694bf/image3.webp 1156w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/e4197302f98557cc62bcaefbeabaf9ab/3b721/image3.png 192w,\n/static/e4197302f98557cc62bcaefbeabaf9ab/66595/image3.png 384w,\n/static/e4197302f98557cc62bcaefbeabaf9ab/fe486/image3.png 768w,\n/static/e4197302f98557cc62bcaefbeabaf9ab/d2d74/image3.png 1152w,\n/static/e4197302f98557cc62bcaefbeabaf9ab/07220/image3.png 1156w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/e4197302f98557cc62bcaefbeabaf9ab/fe486/image3.png\"\n            alt=\"image.png\"\n            title=\"image.png\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h2>View the dashboard</h2>\n<p>istio는 여러가지 telemetry 애플리케이션들과 통합할 수 있습니다.</p>\n<p>저희는 아래 4가지를 깔아보겠습니다.</p>\n<ul>\n<li>prometheus: 메트릭 수집 DB</li>\n<li>grafana: 메트릭 시각화</li>\n<li>Kiali 대시보드: 전체 지표 시각화</li>\n<li>Jaeger: end to end 분산 추적 시스템</li>\n</ul>\n<p>istio-system namespace에 설치된 kiali 대시보드가 준비되면 포트포워딩으로 로컬에서 확인해봅니다.</p>\n<p>kiali가 제공하는 많은 기능중 우선 눈을 즐겁게 하기 위해 Traffic Graph를 먼저 확인해보겠습니다.</p>\n<blockquote>\n<p>추적 데이터를 확인하기 위해 아래 명령어로 트래픽을 생성해줍니다.</p>\n<p><code class=\"language-text\">for i in $(seq 1 100); do curl -s -o /dev/null \"http://$GATEWAY_URL/productpage\"; done</code></p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/79321e5bd574389ff11ddee90159606c/9572f/image5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.91666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAACXElEQVQ4y32SS08TURTH5ytA+gilIkIsSHxgrWJI3LgjMQGjK3n4YIsbY/xObtB10R1uNCaOjX1jpbaUdubOo69592/unXaYtuBN/nNO7pz7OyfnHC4yO49YfAXR6DQCgQBCodCQgsEgs+FwmGlycgJr60+x/vgJJpYeIrqYQDC+gZm5GCLT0+ASK6tYuL6Mze0d5PN5pFIpZLNZZDIZpNNp8DzP/GKxyFQoFPC3UkWlUkG2WEY6d4RfuSJyuSzef+bBrT3awP3VB3jz9h3o0Q0Dtu0w33Zc6/RcDU6v16MfOI4F27a8e90BuOU79xCZuYJnWzswDAOCIECSJBBC/isaU61VmQzT7CdxwN28ncBU9DK2dl7ANE0WqCjKkGRZ9uS/V9UmFLXJYI7jMHG34ncRuTSLzW0XSLP7Ie5DdSwBtZLSRK1BIMkydF2HZVngFpZuIDQV9SocAF2p7LFAGpCbEiSVQJbPoLqmwzIsdFodWKYNUzPAzV1dHAPSYEIkNMQ6ao0TlKrH+Pr9G/jUTzQaopdQakn4I/7GMTlmlpBTcPOxa0NA2kNBIChXajitV0GEU9RLJSQPPuHw8AsUpd9HWYGoiKhJIoR6FZWTMkRRGAcOKmS9azYZQCgdQW+3oWma949auhX9/YJD5fTOB45O1m2Buyp+IB2Ct5d9ezFwZHX80x34NH70XACUz3p1gfwVtlotr/pzh+KvkAYNgv2+KIqwbRvtdht7e6/xg+ex/+GjD/j8Jcumdbvo6gY6ms6G0O120el0mPWLgmjPVFXBq91dlMtlJA+S+AdrKuaS+6ugdwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/79321e5bd574389ff11ddee90159606c/a59e9/image5.webp 192w,\n/static/79321e5bd574389ff11ddee90159606c/0ca9f/image5.webp 384w,\n/static/79321e5bd574389ff11ddee90159606c/dc9b9/image5.webp 768w,\n/static/79321e5bd574389ff11ddee90159606c/e2c2f/image5.webp 1152w,\n/static/79321e5bd574389ff11ddee90159606c/f3efb/image5.webp 1536w,\n/static/79321e5bd574389ff11ddee90159606c/6fe58/image5.webp 2650w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/79321e5bd574389ff11ddee90159606c/3b721/image5.png 192w,\n/static/79321e5bd574389ff11ddee90159606c/66595/image5.png 384w,\n/static/79321e5bd574389ff11ddee90159606c/fe486/image5.png 768w,\n/static/79321e5bd574389ff11ddee90159606c/d2d74/image5.png 1152w,\n/static/79321e5bd574389ff11ddee90159606c/e8464/image5.png 1536w,\n/static/79321e5bd574389ff11ddee90159606c/9572f/image5.png 2650w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/79321e5bd574389ff11ddee90159606c/fe486/image5.png\"\n            alt=\"스크린샷 2025-04-14 20.45.18.png\"\n            title=\"스크린샷 2025-04-14 20.45.18.png\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>그럼 위와 같이 보이게 되는데요, 4xx 에러는 제가 일부러 잘못된 포트로 트래픽을 보내 문제를 일으켜 보았습니다.</p>\n<p>그럼 bookinfo-gateway-istio를 통해 트래픽이 들어오긴 했지만, 대시보드를 통해 알 수 없는 트래픽으로 들어왔음을 확인할 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8b040b353d028172afcb654d892bb0d6/9572f/image6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.91666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAACi0lEQVQ4y3WSXWsTQRSG9y9YmtSm6YcWWytVa61WCiKIFwpeeCOK/bJ/QQR/k1gvlYoIIt5UqBBKk5gmaTfpdrvZmdmPJLubbHZfmUk2TY0deDmHw+yz57xnpMTEJKbmF5FMjmBwcBDxePyMYrGYiENDQ0IDAxfw4NFjPH/xEvHZh0jOLGLkYgxj4+NIJEchLSwuYXp2Dsura8jlctjd3UU2m0Umk0E6nUYqlRJ5Pp8X2t/fR6lchqIoyORLSP/JY29vD7lsBu+/pSA9efoM95bu483bd+Cn0WggCAKRtzoxCNuKThiGQkHLR6vld+teAEhzt+8iMXYJr1bWBEzXdTDGQCntE6/3SlEVIf5dGAZAGEC6cWsBw8lxrKy9RrPZFBdN0xQyDAOGaYhoWRaYyUBNAmIS2LYNy+KqtrsNAjGRdHP+DhKjE1hebQMpPQWeyoJGNBxpZeSLBchlGbbNf2BDrVAww4DnefB9H9L0teuIDydFh9wPygiYwYRM24RlW9CZDsLrlGHry1fs7PxGrVaD67jwG03U7Br8po+m40G6fOVqG7i+AUIsqJqK44oCWZVRKBVQOCxAqSgCysd3nDqYTdsW2AyHpAiZyjggRZyYKqTJqZluh67rgRAixuRefv/xEx82P0KWS6LbkibjQClC1VUB5F6eMAK9ouDouASd6meB3AOxFMPs81EAKAFlFBrVRLd8u533haAVIAzCs8D2Umh3w91Nd7ZMCMWnz1vY3v6FarUq7v97zgX2wnrhx6oKTdNEHgGjh851DtDoqH/09vuzBJBbFAGj2AeMHrbR0yWvRTHK+fIiD/8PXN8QRddx4HgN1F0PruvCcRzU63URe8VrvMPecTnwL9V/6gGL6U5cAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/8b040b353d028172afcb654d892bb0d6/a59e9/image6.webp 192w,\n/static/8b040b353d028172afcb654d892bb0d6/0ca9f/image6.webp 384w,\n/static/8b040b353d028172afcb654d892bb0d6/dc9b9/image6.webp 768w,\n/static/8b040b353d028172afcb654d892bb0d6/e2c2f/image6.webp 1152w,\n/static/8b040b353d028172afcb654d892bb0d6/f3efb/image6.webp 1536w,\n/static/8b040b353d028172afcb654d892bb0d6/6fe58/image6.webp 2650w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/8b040b353d028172afcb654d892bb0d6/3b721/image6.png 192w,\n/static/8b040b353d028172afcb654d892bb0d6/66595/image6.png 384w,\n/static/8b040b353d028172afcb654d892bb0d6/fe486/image6.png 768w,\n/static/8b040b353d028172afcb654d892bb0d6/d2d74/image6.png 1152w,\n/static/8b040b353d028172afcb654d892bb0d6/e8464/image6.png 1536w,\n/static/8b040b353d028172afcb654d892bb0d6/9572f/image6.png 2650w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/8b040b353d028172afcb654d892bb0d6/fe486/image6.png\"\n            alt=\"스크린샷 2025-04-14 21.14.52.png\"\n            title=\"스크린샷 2025-04-14 21.14.52.png\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>istio와 k8s gateway를 절차대로 정상적으로 설치했으면 위와 같이 보여야 합니다.</p>\n<p>저는 깜빡하고 envoy 사이드카 프록시 세팅을 안해줬더라구요… 하하</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk11 { color: #DCDCAA; }\n  .default-dark .mtk4 { color: #569CD6; }\n  .default-dark .mtk12 { color: #9CDCFE; }\n  .default-dark .mtk8 { color: #CE9178; }\n  .default-dark .mtk7 { color: #B5CEA8; }\n  .default-dark .mtk3 { color: #6A9955; }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"title":"istio helloworld","summary":"istio 한 번 사용해보기","date":"2024.12.02.","categories":["etc","network"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAGgABAAEFAAAAAAAAAAAAAAAAAAYEBQcICf/EABgBAAMBAQAAAAAAAAAAAAAAAAIDBQcI/9oADAMBAAIQAxAAAAHD89u+7HQuY80xfm1kiFlEQwf/xAAZEAACAwEAAAAAAAAAAAAAAAAFBgADBAL/2gAIAQEAAQUChsFcHqiWLwl2N86XmFCmfRoyXEzxwz1P/8QAHxEBAQACAQQDAAAAAAAAAAAAAQIDBDEQERIhIiNx/9oACAEDAQE/AdbSM+ptZm4m8ctYYaCrcTFZQFO/10+Pr5Wdjh6F2DBdEV7qSnxU4WeF/en/xAAfEQADAAICAgMAAAAAAAAAAAABAgMEBRAREiExMkH/2gAIAQIBAT8B2G3OHs9diLKrztRUy6LNmnFckUTGYsFIBFpA07I8JN2fsODKTOtWlM1T0lCimig/IVyPJQf0A++P/8QAJhAAAgIBAgUEAwAAAAAAAAAAAgMBBAUSMQAQERMhBhRxcjJRgv/aAAgBAQAGPwLjB2S6lWzmEp5ascxsbIldyv8Aau8fntNVM78sdXylhVbFpZ73Im2ZjXVqTDTrBAxJmy0WhGkIkoA2HsHCZq3qwZX0++zdqJYDapHWZacNmmqLCkxPcqkpyVj5I0KEY88l2alh9Wwotan1nMQ5ZRsQNUQmM/BRx1y2YyeS6fiNy69yx+qZPsj/ACuP3vy//8QAHBABAAMAAgMAAAAAAAAAAAAAAQARIRBRMWGh/9oACAEBAAE/IZkBISwRoNOvZlmVlMnDoysac2xmlGAvk4Adgw4Hgbwx47++o2ZDGY4FH3tWraVLx//aAAwDAQACAAMAAAAQ0AiA/8QAGBEBAAMBAAAAAAAAAAAAAAAAAQARIRD/2gAIAQMBAT8QcKEv4CgiItAVMUhFE1gEhBQQoOc//8QAGBEBAAMBAAAAAAAAAAAAAAAAAQAQESH/2gAIAQIBAT8QeL56DHNhxaRyHUR2w68IAgCBRwr/xAAdEAEBAAEEAwAAAAAAAAAAAAABEQAQITFhQaHw/9oACAEBAAE/EAqFlQrwd43ToIBR3EGAGK6G27BkJCINRUJUUQoXm+KIhD7+7xxG5r6s884loqSyEgCElrdyukDP/9k="},"images":{"fallback":{"src":"/static/a738c6c1e90607d05a38dbd23cd61ee9/10998/istio.jpg","srcSet":"/static/a738c6c1e90607d05a38dbd23cd61ee9/93e3f/istio.jpg 100w,\n/static/a738c6c1e90607d05a38dbd23cd61ee9/839ae/istio.jpg 200w,\n/static/a738c6c1e90607d05a38dbd23cd61ee9/10998/istio.jpg 400w","sizes":"(min-width: 400px) 400px, 100vw"},"sources":[{"srcSet":"/static/a738c6c1e90607d05a38dbd23cd61ee9/e64f1/istio.webp 100w,\n/static/a738c6c1e90607d05a38dbd23cd61ee9/8b00d/istio.webp 200w,\n/static/a738c6c1e90607d05a38dbd23cd61ee9/9c0a1/istio.webp 400w","type":"image/webp","sizes":"(min-width: 400px) 400px, 100vw"}]},"width":400,"height":400}},"publicURL":"/static/a738c6c1e90607d05a38dbd23cd61ee9/istio.jpeg"}}}}]}},"pageContext":{"slug":"/infra/2024-12-02-istio-helloworld/"}},"staticQueryHashes":["2518467932","429584967"]}