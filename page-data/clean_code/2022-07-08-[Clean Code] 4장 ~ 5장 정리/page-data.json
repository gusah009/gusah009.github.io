{"componentChunkName":"component---src-templates-post-template-tsx","path":"/clean_code/2022-07-08-[Clean Code] 4장 ~ 5장 정리/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<blockquote>\n<p>클린 코드를 읽으며 많은 것을 배우고 있습니다. 클린 코드는 개발을 하는 사람이라면 누구나 자연스레 고민해봤을 <strong>코딩 컨벤션</strong>이나 <strong>팀 컨벤션 룰</strong> 같은 부분들에 대해 명료하고 명쾌하게 설명해주고 있습니다.</p>\n</blockquote>\n<h2>4장. 주석</h2>\n<h3>주석은 나쁜 코드를 보완하지 못한다.</h3>\n<ul>\n<li>주석으로 나쁜 코드를 설명할 바에 코드를 깔끔하게 짜는 것이 좋습니다.</li>\n</ul>\n<h3>좋은 주석</h3>\n<ul>\n<li>법적인 주석</li>\n<li>정보를 제공하는 주석\n<ul>\n<li>예를 들면, 정규표현식에서 해당 표햔식이 의미하는 바를 주석으로 남기는 행위를 말합니다.</li>\n<li>아래 코드는 <strong>CTF 문제의 정답(flag)을 각 팀에 할당하는 코드</strong>입니다. 코드만 봤을 때 <code class=\"language-text\">VIRTUAL_TEAM</code>에게도 문제의 정답을 할당하고 있어서 낭비라고 생각할 수 있지만, 주석으로 이를 설명하고 있습니다.</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setFlagAllTeam</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> flag<span class=\"token punctuation\">,</span> <span class=\"token class-name\">CtfChallengeEntity</span> challenge<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// team이 하나도 없을 때 flag가 유실되는 것을 방지하기 위해 VIRTUAL TEAM을 이용해 flag를 저장합니다.</span>\n  <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CtfTeamEntity</span><span class=\"token punctuation\">></span></span> ctfTeamEntities <span class=\"token operator\">=</span> ctfTeamRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findAllByIdOrCtfContestEntityId</span><span class=\"token punctuation\">(</span>\n      <span class=\"token constant\">VIRTUAL_TEAM_ID</span><span class=\"token punctuation\">,</span> challenge<span class=\"token punctuation\">.</span><span class=\"token function\">getCtfContestEntity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> ctfTeam <span class=\"token operator\">:</span> ctfTeamEntities<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">CtfFlagEntity</span> flagEntity <span class=\"token operator\">=</span> <span class=\"token class-name\">CtfFlagEntity</span><span class=\"token punctuation\">.</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">content</span><span class=\"token punctuation\">(</span>flag<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">ctfTeamEntity</span><span class=\"token punctuation\">(</span>ctfTeam<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">ctfChallengeEntity</span><span class=\"token punctuation\">(</span>challenge<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">isCorrect</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    ctfFlagRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>flagEntity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    challenge<span class=\"token punctuation\">.</span><span class=\"token function\">getCtfFlagEntity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>flagEntity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>의도를 설명하는 주석, 의미를 명료하게 밝히는 주석\n<ul>\n<li>이런 형식의 주석들은 구현을 보다 쉽게 이해할 수 있게 해줍니다.</li>\n<li>혹은, 이미 코드가 모호하게 짜여졌지만 라이브러리나 변경하지 못하는 코드라면 위 주석이 효과적입니다.</li>\n</ul>\n</li>\n<li>결과를 경고하는 주석\n<ul>\n<li>어떤 경우에 대한 경고는 코드만으로 전달하기 힘들 수 있습니다. 이럴 때 위 같은 주석이 효과적입니다.</li>\n</ul>\n</li>\n<li>TODO 주석</li>\n</ul>\n<h3>나쁜 주석</h3>\n<ul>\n<li>주절거리는 주석\n<ul>\n<li>주석을 봐도 코드를 통해 이해가 더 필요하다면 이는 주절거리는 주석이라 볼 수 있습니다.</li>\n<li>아래 코드를 보면 <code class=\"language-text\">// 문제 점수 조정</code>이라는 주석이 있지만 <strong>메서드명으로도 해당 정보를 알 수 있고, 심지어 어떤 방식으로 어떻게 문제 점수를 조정 하는 지 코드를 다시 봐야만 알 수 있기 때문에</strong> 주석을 제거했습니다.</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setDynamicScore</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CtfChallengeEntity</span> challenge<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 문제 점수 조정</span>\n  <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CtfFlagEntity</span><span class=\"token punctuation\">></span></span> ctfSolvedList <span class=\"token operator\">=</span> flagRepository<span class=\"token punctuation\">.</span>\n      <span class=\"token function\">findAllByCtfChallengeEntityIdAndIsCorrect</span><span class=\"token punctuation\">(</span>challenge<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token class-name\">Long</span> originalScore <span class=\"token operator\">=</span> challenge<span class=\"token punctuation\">.</span><span class=\"token function\">getScore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token class-name\">Long</span> allTeamCount <span class=\"token operator\">=</span> teamRepository<span class=\"token punctuation\">.</span><span class=\"token function\">countByIdIsNotAndCtfContestEntity</span><span class=\"token punctuation\">(</span><span class=\"token constant\">VIRTUAL_TEAM_ID</span><span class=\"token punctuation\">,</span>\n      challenge<span class=\"token punctuation\">.</span><span class=\"token function\">getCtfContestEntity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token class-name\">Long</span> solvedTeamCount <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">long</span><span class=\"token punctuation\">)</span> ctfSolvedList<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token class-name\">Long</span> maxScore <span class=\"token operator\">=</span> dynamicInfo<span class=\"token punctuation\">.</span><span class=\"token function\">getMaxScore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token class-name\">Long</span> minScore <span class=\"token operator\">=</span> dynamicInfo<span class=\"token punctuation\">.</span><span class=\"token function\">getMinScore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">long</span> dynamicScore <span class=\"token operator\">=</span> <span class=\"token function\">getDynamicScore</span><span class=\"token punctuation\">(</span>allTeamCount<span class=\"token punctuation\">,</span> solvedTeamCount<span class=\"token punctuation\">,</span> maxScore<span class=\"token punctuation\">,</span> minScore<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  challenge<span class=\"token punctuation\">.</span><span class=\"token function\">setScore</span><span class=\"token punctuation\">(</span>dynamicScore<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  challengeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>challenge<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>같은 이야기를 중복하는 주석</li>\n<li>오해할 여지가 있는 주석</li>\n<li>의무적으로 다는 주석\n<ul>\n<li>javadocs의 규율떄문에 작성하는 주석은 아무 가치도 없고, 코드가 수정되면 거짓을 퍼트릴 수 있습니다.</li>\n</ul>\n</li>\n<li>이력을 기록하는 주석\n<ul>\n<li>옛날에야 필요했을 수 있지만, 지금은 버전 관리 툴이 다 기록을 해줍니다.</li>\n</ul>\n</li>\n<li><strong>주석으로 처리한 코드</strong>\n<ul>\n<li>필자 개인적으로 가장 위험하다고 느낀 주석입니다. 실제로 필자의 코드에도 이러한 주석이 많으며, 결국 쓰이지도 않지만 종양처럼 자리잡고 있습니다.</li>\n</ul>\n</li>\n<li>HTML 주석\n<ul>\n<li>Javadocs에 이쁘게 보이기 위해 HTML 주석을 작성하는 경우가 있지만 이는 지양해야합니다.</li>\n</ul>\n</li>\n</ul>\n<h2>5장. 형식 맞추기</h2>\n<p>여러명이 한 프로젝트에서 협업할 땐 코드 형식을 정해야 합니다. 어떤 코드 형식이 바람직 한 지 알아보겠습니다.</p>\n<h3>적절한 행 길이를 유지하라</h3>\n<ul>\n<li><code class=\"language-text\">java</code>에서 하나의 파일의 크기는 클래스 크기에 좌우합니다. 굳이 그렇게 길 필요는 없습니다.</li>\n</ul>\n<h3>개념은 빈 행으로 분리하라</h3>\n<ul>\n<li>각 메서드, import 문, package를 빈 행으로 분리하는 것은 가독성을 높이는 데 도움이 됩니다.</li>\n</ul>\n<h3>세로 밀집도</h3>\n<ul>\n<li>서로 의미상 밀집한 코드는 빈 행으로 분리할 필요가 없습니다.</li>\n<li>이 뜻은 곧 같은 메서드 내부적으로 빈 행으로 분리할 필요가 없음을 의미합니다.\n<ul>\n<li><strong>만약 메서드 내부에 빈 행으로 분리 된 부분이 있다면 이는 다른 메서드로 뽑아낼 수 있다는 것을 의미합니다.</strong></li>\n</ul>\n</li>\n</ul>\n<h3>수직 거리</h3>\n<ul>\n<li><strong>변수</strong>는 사용하는 위치에 최대한 가까이 선언합니다.</li>\n<li>하지만 <strong>인스턴스 변수</strong>는 클래스의 맨 처음에 선언합니다.</li>\n<li>한 함수가 다른 함수를 호출한다면 두 함수는 세로로 가까이에 배치합니다.</li>\n</ul>\n<h3>개념적 유사성</h3>\n<ul>\n<li>개념적인 친화도가 높을 수록 가까이 배치합니다.</li>\n<li>함수 호출 종속성은 아래 방향으로 유지합니다.\n<ul>\n<li>호출되는 함수를 호출하는 함수보다 나중에 배치합니다.</li>\n</ul>\n</li>\n</ul>\n<h3>가로 형식 맞추기</h3>\n<ul>\n<li>한 행은 짧을 수록 좋습니다.</li>\n<li>아래와 같이 가로 정렬은 하지 않습니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Example</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">private</span>   <span class=\"token keyword\">int</span>        intDto<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">private</span>   <span class=\"token class-name\">String</span>     stringDto<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">private</span>   <span class=\"token keyword\">long</span>       longDto<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">protected</span> <span class=\"token class-name\">ExampleDto</span> exampleDto<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"title":"[Clean Code] 4장 ~ 5장 정리","summary":"클린 코드는 개발을 하는 사람이라면 누구나 자연스레 고민해봤을 **코딩 컨벤션**이나 **팀 컨벤션 룰** 같은 부분들에 대해 명료하고 명쾌하게 설명해주고 있습니다.","date":"2022.07.08.","categories":["clean_code"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAA40lEQVQoz2NYfuUm2YiBepqv3lp57faKq7eWXbq+7PINNLQULIhL860lF6/OPnF28YWra28/WHPr/uqb90Dkjbsg8tb9tXcerr55H7vmpVduzt6x7+LVa0v3H2lYtqpx8YoJ23Z1b9gyeff+9tXrJ2zbVbdgce/m7dg1L7t6c+rmXYdOXpyzbV/ZjNnZHd05Xb1pTa1tq9ZVzpqX09WbVFuf3zdh2aXrK67eQte84uqtReevzDh6ZtH5Kyuu3oKoWHHt9qrrd5ZdBilYef0OXBuWAFtx9dYqDBXLr9ygQ1SRqBkA4gfGYXqbPI4AAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/524d5d37d834bb1b9ad60ee4176eb8a9/340cf/clean_code_thumb.jpg","srcSet":"/static/524d5d37d834bb1b9ad60ee4176eb8a9/c5762/clean_code_thumb.jpg 567w,\n/static/524d5d37d834bb1b9ad60ee4176eb8a9/c8d06/clean_code_thumb.jpg 1134w,\n/static/524d5d37d834bb1b9ad60ee4176eb8a9/340cf/clean_code_thumb.jpg 2268w","sizes":"(min-width: 2268px) 2268px, 100vw"},"sources":[{"srcSet":"/static/524d5d37d834bb1b9ad60ee4176eb8a9/2c04c/clean_code_thumb.webp 567w,\n/static/524d5d37d834bb1b9ad60ee4176eb8a9/f5de0/clean_code_thumb.webp 1134w,\n/static/524d5d37d834bb1b9ad60ee4176eb8a9/c0f58/clean_code_thumb.webp 2268w","type":"image/webp","sizes":"(min-width: 2268px) 2268px, 100vw"}]},"width":2268,"height":1134}},"publicURL":"/static/524d5d37d834bb1b9ad60ee4176eb8a9/clean_code_thumb.png"}}}}]}},"pageContext":{"slug":"/clean_code/2022-07-08-[Clean Code] 4장 ~ 5장 정리/"}},"staticQueryHashes":[]}