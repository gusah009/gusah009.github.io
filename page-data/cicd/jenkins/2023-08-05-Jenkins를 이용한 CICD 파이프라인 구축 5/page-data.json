{"componentChunkName":"component---src-templates-post-template-tsx","path":"/cicd/jenkins/2023-08-05-Jenkins를 이용한 CICD 파이프라인 구축 5/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<blockquote>\n<p><strong>파이프라인과 jenkins slave</strong></p>\n</blockquote>\n<h1>Jenkins 파이프라인</h1>\n<h3>Pipeline 데모 사용해보기</h3>\n<p>이번 시간엔 파이프라인을 구축해보겠습니다.</p>\n<p>먼저 간단한 파이프라인을 먼저 구축해봅시다.</p>\n<ul>\n<li>\n<p><code class=\"language-text\">sample-pipeline.yml</code></p>\n<pre class=\"grvsc-container default-dark\" data-language=\"groovy\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">pipeline {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    agent any</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    stages {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        stage(</span><span class=\"mtk8\">&#39;Compile&#39;</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            steps {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                echo </span><span class=\"mtk8\">&quot;Compiled successfully!&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        stage(</span><span class=\"mtk8\">&#39;JUnit&#39;</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            steps {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                echo </span><span class=\"mtk8\">&quot;JUnit passed successfully!&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        stage(</span><span class=\"mtk8\">&#39;Code Analysis&#39;</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            steps {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                echo </span><span class=\"mtk8\">&quot;Code Analysis completed successfully!&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        stage(</span><span class=\"mtk8\">&#39;Deploy&#39;</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            steps {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                echo </span><span class=\"mtk8\">&quot;Deployed successfully!&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n</ul>\n<img width=\"500\" alt=\"image\" src=\"https://user-images.githubusercontent.com/26597702/271583425-17add2fe-ae2d-4b25-a2c3-5bd6df97b98a.png\">\n<blockquote>\n<p><em>미세한 꿀팁) 아래의 IntelliJ IDEA GDSL을 이용하면 하이라이팅 및 자동완성 기능을 쓸 수 있습니다. 구글에 검색하면 더 고도화된 GDSL이 많이 나오니 참고하세용.</em></p>\n<img width=\"500\" alt=\"image\" src=\"https://user-images.githubusercontent.com/26597702/271583481-569f088f-4223-4e56-9d29-74a2fdfd9dc9.png\">\n</blockquote>\n<h3>지금까지 했던 내용 Pipeline으로 구축해보기</h3>\n<ul>\n<li>\n<p>Jenkinsfile</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"groovy\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">pipeline {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  agent any</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  tools {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    gradle </span><span class=\"mtk8\">&#39;gradle 8.3&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  stages {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    stage(</span><span class=\"mtk8\">&#39;github clone&#39;</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      steps {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        git branch: </span><span class=\"mtk8\">&#39;main&#39;</span><span class=\"mtk1\">, url: </span><span class=\"mtk8\">&#39;https://github.com/gusah009/jenkins-study.git&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    stage(</span><span class=\"mtk8\">&#39;jar build&#39;</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      steps {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        sh </span><span class=\"mtk8\">&#39;&#39;&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">                    echo build start!</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">                    gradle clean bootJar</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">                &#39;&#39;&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      post {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        success {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          echo </span><span class=\"mtk8\">&#39;gradle build success&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        failure {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          echo </span><span class=\"mtk8\">&#39;gradle build failed&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    stage(</span><span class=\"mtk8\">&#39;[deploy] copy jar to ansible server&#39;</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      steps {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        sshPublisher(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            continueOnError: </span><span class=\"mtk4\">false</span><span class=\"mtk1\">, failOnError: </span><span class=\"mtk4\">true</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            publishers: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                sshPublisherDesc(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    configName: </span><span class=\"mtk8\">&quot;ansible-host&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    verbose: </span><span class=\"mtk4\">true</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    transfers: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                        sshTransfer(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                            sourceFiles: </span><span class=\"mtk8\">&quot;build/libs/jenkins-study-0.0.1-SNAPSHOT.jar&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                            removePrefix: </span><span class=\"mtk8\">&quot;build/libs&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                            remoteDirectory: </span><span class=\"mtk8\">&quot;.&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                            execCommand: </span><span class=\"mtk8\">&quot;&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                        )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    ]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            ]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    stage(</span><span class=\"mtk8\">&#39;[deploy] build and push docker image&#39;</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      steps {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        sshPublisher(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            continueOnError: </span><span class=\"mtk4\">false</span><span class=\"mtk1\">, failOnError: </span><span class=\"mtk4\">true</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            publishers: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                sshPublisherDesc(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    configName: </span><span class=\"mtk8\">&quot;ansible-host&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    verbose: </span><span class=\"mtk4\">true</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    transfers: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                        sshTransfer(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                            execCommand: </span><span class=\"mtk8\">&quot;ansible-playbook create-cicd-project-image-playbook.yml;&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                        )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    ]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            ]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    stage(</span><span class=\"mtk8\">&#39;[deploy] publish docker image to k8s&#39;</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      steps {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        sshPublisher(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            continueOnError: </span><span class=\"mtk4\">false</span><span class=\"mtk1\">, failOnError: </span><span class=\"mtk4\">true</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            publishers: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                sshPublisherDesc(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    configName: </span><span class=\"mtk8\">&quot;ansible-host&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    verbose: </span><span class=\"mtk4\">true</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    transfers: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                        sshTransfer(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                            execCommand: </span><span class=\"mtk8\">&quot;ansible-playbook /root/k8s/k8s-cicd-deployment-playbook.yml;</span><span class=\"mtk6\">\\n</span><span class=\"mtk8\">&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                                + </span><span class=\"mtk8\">&quot;ansible-playbook /root/k8s/k8s-cicd-service-playbook.yml;&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                        )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    ]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            ]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n</ul>\n<p>위 파이프라인이 보기엔 굉장히 길지만 지금까지 해왔던 내용을 pipeline에 그대로 옮겼을 뿐이라 찬찬히 읽어보면 굉장히 쉽습니다.</p>\n<img width=\"600\" alt=\"image\" src=\"https://user-images.githubusercontent.com/26597702/271583523-1c768a60-9da9-48a2-9832-f9a1d10d6711.png\">\n<p>몇번의 삽질 끝에 파이프라인다운 파이프라인을 만들었습니다..!</p>\n<p>한 번 코드도 갱신해서 올려보고 다시 배포해보면…</p>\n<img width=\"300\" alt=\"image\" src=\"https://user-images.githubusercontent.com/26597702/271583570-a22b9aa9-6612-45ce-ab2b-520fa39f5123.png\">\n<img width=\"300\" alt=\"image\" src=\"https://user-images.githubusercontent.com/26597702/271583660-3525fdde-a805-48cb-a63e-2958fe16a612.png\">\n<p>짜잔 완성~</p>\n<h1>Jenkins 마스터, 워커</h1>\n<p>지금까지 우리가 사용한 젠킨스는 마스터(master)라고 부릅니다.</p>\n<p>젠킨스는 자신의 업무를 worker(slave라고도 부름)노드에게 맡길 수 있는 기능이 있는데요,</p>\n<p>이번 시간엔 master + worker를 만들어보겠습니다.</p>\n<h2>Docker로 slave 띄워보기</h2>\n<p><a href=\"https://hub.docker.com/r/jenkins/ssh-slave/\" target=\"_blank\" rel=\"nofollow\">Docker</a></p>\n<p>위의 공식 jenkins/ssh-slave docker 문서를 참고했습니다.</p>\n<p>jenkins slave의 도커 설정을 마쳤다면 아래와 같이 pipeline script를 작성해봅시다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"groovy\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">node(</span><span class=\"mtk8\">&#39;slave1&#39;</span><span class=\"mtk1\">) { </span><span class=\"mtk3\">// 설정할 때 썼던 docker agent name</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\tstage(</span><span class=\"mtk8\">&#39;Print Hello&#39;</span><span class=\"mtk1\">) { </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\techo </span><span class=\"mtk8\">&quot;Hello&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<img width=\"400\" alt=\"image\" src=\"https://user-images.githubusercontent.com/26597702/271584684-1d5c3490-9bfc-4d3f-af01-137a5268a07a.png\">\n<p>그럼 위와 같이 <strong>slave1 라벨의 모든 노드가 offline</strong>이라고 뜹니다.</p>\n<img width=\"600\" alt=\"image\" src=\"https://user-images.githubusercontent.com/26597702/271584737-d07f7304-ce6e-4743-9af4-60855702e5f1.png\">\n<p>그리곤 아래와 같이 master 내부에 slave node들을 열심히 생성하기 시작합니다.</p>\n<blockquote>\n<p><em>이건 jenkins에서 제공해주는 docker 플러그인이 해주는 기능입니다. 실제로 jenkins를 구성한다면 노드의 성능을 최대로 활용하기 위해 아예 다른 노드에 워커 노드를 띄우고 SSH 연결하는게 좋을 것 같습니다.</em></p>\n</blockquote>\n<img width=\"600\" alt=\"image\" src=\"https://user-images.githubusercontent.com/26597702/271584791-0dbd1197-a018-4712-8408-5ec224583238.png\">\n<p>시간이 지나면 <em>Running on ~~~</em> 문구가 뜨는데, offline이던 slave 노드를 도커로 띄우는 과정입니다.</p>\n<p>그럼 pipeline 과정을 도커 내부에서 수행하고 도커는 사라집니다.</p>\n<h2>ref</h2>\n<p><a href=\"https://www.inflearn.com/course/%EC%A0%A0%ED%82%A8%EC%8A%A4-ci-cd-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8/dashboard\" target=\"_blank\" rel=\"nofollow\">Jenkins를 이용한 CI/CD Pipeline 구축 - 인프런 | 강의</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk8 { color: #CE9178; }\n  .default-dark .mtk4 { color: #569CD6; }\n  .default-dark .mtk6 { color: #D7BA7D; }\n  .default-dark .mtk3 { color: #6A9955; }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"title":"Jenkins를 이용한 CI/CD 파이프라인 구축 5","summary":"파이프라인과 jenkins slave","date":"2023.08.05.","categories":["jenkins"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAATABQDASIAAhEBAxEB/8QAGgABAQACAwAAAAAAAAAAAAAAAAgEBQYHCf/EABcBAQADAAAAAAAAAAAAAAAAAAcFBgj/2gAMAwEAAhADEAAAAeu6c0+GGsHh4stfpfitMiSAxwBne/8A/8QAGxAAAgMBAQEAAAAAAAAAAAAABQYDBAcCART/2gAIAQEAAQUCxjGFAoosaPkJoWZTSQ8lnTmu+K0JTP1K2dL3ZSdCTuQUIrV+0g/719n/xAAlEQACAgEEAQMFAAAAAAAAAAACAwEEBQYREhQiABMxFSEjJDP/2gAIAQMBAT8BtIio8qYoWA1rdocnUSUgzHrf5l1gWToDsrYQrEZjdcrkSYLImLGldIEyDvrzIXGKrtsxj6+Pt0ic2uphsrWfrVaHLdJe7BikA8/DkMQZaut2qmqcyNWzYrDcBPbGu5iRtb4VVuexCyGHb2oiz+Tl+xEO/p5eqeOx51wI6NM55NHcqySniDTAB3kPgAERGPgRGBj7RHr/xAAkEQACAQIFBQEBAAAAAAAAAAABAgMEBRESEyExABQiIzIkUf/aAAgBAgEBPwGVrrU3Gpnq5r+KlZs9ppqOGWWknVZEFMe4fLTlVGLtJJEUOlIJshXSaG63URoulESoynPrKwZdmUr274ZGxT6JwG+B2FriiltNEZY0kMTDSLormP8AbpessDk9Xr8cPDw+dunllDbSScKftuSoJPPJJxP9PX//xAAmEAACAgEEAgIBBQAAAAAAAAACAwEEBQYREhMUIQAiIxUxQUJR/9oACAEBAAY/Ak6w1Mi/YixZsXEVRtMCkdHHL6wsdVRfnnMvi9MKVY5NiADrP6jLNG49OLwtq8Fm2m9goTF2lcrpRt+ofcrtgSBwFYx9gTEVpZNjw7ApIrWOYKvIxzTx9nrP6d9IyrGUbxvENhQtHf8AqcT/AD8RpfUeTqYd9aZsV3zAU8e+tkWsyAqA+M1Kx132bCPDsSHKuKHK7Y58X3x1Ld1hQx1FdXSGlh8zIhgvqcZOxStOkMYpWTZE9mU4KiKxMFj7gQmBtZJVisg825+Yth4faMW7lh3aK5MlmIK6xRAkPL8UnO3PaMcwzIjOjTMymfZH1GrkX+lIJVEzPueETPvefmYtMQptgQyygc5YuNS6dihFcUSyC6OEWn79PCWc/wAnPgHFIQRwK6FEQETIYiCQLJ/aY33NhlMz73n5/8QAGRABAQEBAQEAAAAAAAAAAAAAAREAITFR/9oACAEBAAE/IXSN2cMeZEDtc+p+WxkbLY1kXlev6MuRCAsc0Mr8tgVUK3hVtw2imVE5jgMS8P8AffLMQqSAltazpm6N9m6orScSnEmSiFxF4jci0Cb7lyEtZA//2gAMAwEAAgADAAAAEPcXvf/EABgRAQEBAQEAAAAAAAAAAAAAAAERACFB/9oACAEDAQE/EHLWGmIxAJNKqABftEqlLMWZp7XSUhmFE2hyAEJAejBb2HhUEf/EABkRAQADAQEAAAAAAAAAAAAAAAEAESExYf/aAAgBAgEBPxDKam5FdjhYZdHEBTsHMqQ0BAMPY74QwNHbV6RTBCygtXVpBOorarP/xAAZEAEBAQEBAQAAAAAAAAAAAAABABExECH/2gAIAQEAAT8Qibrbq5WZ9IFc2p+3QQpTJXpSAeJyxkBfhG70guyaJ59dW1A0FCAXO7+wS0TTzn8tuyTAYgWxuoU4sOCtRBUn4ICsQKG4YsE+qH0in//Z"},"images":{"fallback":{"src":"/static/6a3b9dce28b4687f9f583de058b08be4/cad72/choonsik_jenkins.jpg","srcSet":"/static/6a3b9dce28b4687f9f583de058b08be4/263a2/choonsik_jenkins.jpg 264w,\n/static/6a3b9dce28b4687f9f583de058b08be4/ac426/choonsik_jenkins.jpg 529w,\n/static/6a3b9dce28b4687f9f583de058b08be4/cad72/choonsik_jenkins.jpg 1057w","sizes":"(min-width: 1057px) 1057px, 100vw"},"sources":[{"srcSet":"/static/6a3b9dce28b4687f9f583de058b08be4/c5924/choonsik_jenkins.webp 264w,\n/static/6a3b9dce28b4687f9f583de058b08be4/d0e04/choonsik_jenkins.webp 529w,\n/static/6a3b9dce28b4687f9f583de058b08be4/8470c/choonsik_jenkins.webp 1057w","type":"image/webp","sizes":"(min-width: 1057px) 1057px, 100vw"}]},"width":1057,"height":1016.0000000000001}},"publicURL":"/static/6a3b9dce28b4687f9f583de058b08be4/choonsik_jenkins.jpeg"}}}}]}},"pageContext":{"slug":"/cicd/jenkins/2023-08-05-Jenkins를 이용한 CICD 파이프라인 구축 5/"}},"staticQueryHashes":["2518467932","429584967"]}