{"componentChunkName":"component---src-templates-post-template-tsx","path":"/effective_java/2022-09-07-[item64]-객체는 인터페이스를 사용해 참조하라/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<blockquote>\n<p><strong>객체는 인터페이스를 사용해 참조하라</strong></p>\n</blockquote>\n<p>만약 어떤 클래스에 해당하는 인터페이스가 있다면, 구체적인 클래스보다 인터페이스 타입으로 선언하는 것이 좋습니다.</p>\n<p>인터페이스 타입을 사용하는 습관을 길러두면 프로그램이 훨씬 유연해질 것입니다.</p>\n<h2>구현 타입으로 사용했을 때의 문제</h2>\n<p>아래와 같이 <code class=\"language-text\">Person</code>인터페이스와 그 구현체 <code class=\"language-text\">HyeonMo</code>, <code class=\"language-text\">CheolSu</code>가 있다고 해보겠습니다</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">void</span> <span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CheolSu</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token annotation punctuation\">@Override</span>\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"CheolSu 냠냠\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HyeonMo</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token annotation punctuation\">@Override</span>\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"HyeonMo 냠냠\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">coding</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"HyeonMo 코딩\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">HyeonMo</code>는 <code class=\"language-text\">CheolSu</code>와 다르게 <code class=\"language-text\">coding()</code>이라는 메서드까지 가지고 있습니다.</p>\n<p>아래는 <code class=\"language-text\">Broadcast</code>이라는 메서드에서 사람을 인자로 받아서 할 수 있는 행위들을 보여주는 코드입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Broadcast</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">HyeonMo</span> person<span class=\"token punctuation\">;</span>\n\n  <span class=\"token class-name\">Broadcast</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HyeonMo</span> person<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>person <span class=\"token operator\">=</span> person <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">void</span> <span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    person<span class=\"token punctuation\">.</span><span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    person<span class=\"token punctuation\">.</span><span class=\"token function\">coding</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>하지만 지금 인자를 <code class=\"language-text\">HyeonMo</code>라는 구현체로 받고 있음을 알 수 있습니다. 이렇게 되면 후에 Broadcast에 <code class=\"language-text\">CheolSu</code>를 내보내고 싶어도 구현체를 모두 바꿔야 하는 상황이 되버립니다.</p>\n<p><code class=\"language-text\">CheolSu</code>로 구현체를 바꾼다해도, CheolSu는 <code class=\"language-text\">coding()</code>을 할 수 없기 때문에 컴파일 에러가 납니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Broadcast</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">CheolSu</span> person<span class=\"token punctuation\">;</span>\n\n  <span class=\"token class-name\">Broadcast</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CheolSu</span> person<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>person <span class=\"token operator\">=</span> person <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">void</span> <span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    person<span class=\"token punctuation\">.</span><span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    person<span class=\"token punctuation\">.</span><span class=\"token function\">coding</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 컴파일 에러!</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이는 <code class=\"language-text\">HyeonMo</code>나 <code class=\"language-text\">CheolSu</code>같은 구현체 대신 인터페이스를 사용하면 모두 해결 될 문제입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Broadcast</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Person</span> person<span class=\"token punctuation\">;</span>\n\n  <span class=\"token class-name\">Broadcast</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Person</span> person<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>person <span class=\"token operator\">=</span> person <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">void</span> <span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    person<span class=\"token punctuation\">.</span><span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>인터페이스가 없다면 클래스로</h2>\n<h3><code class=\"language-text\">String</code>, <code class=\"language-text\">BigInteger</code>같은 값 클래스</h3>\n<p>물론 인터페이스가 없는 경우가 있습니다.</p>\n<p><code class=\"language-text\">String</code> 이나 <code class=\"language-text\">BigInteger</code>같은 값 클래스는 따로 인터페이스를 두어 여러 선택지를 둘 필요가 없기 때문에 인터페이스가 없습니다.</p>\n<h3><code class=\"language-text\">OutputStream</code> 같은 프레임워크가 제공하는 객체</h3>\n<p><code class=\"language-text\">FileOutputStream</code>은 파일의 출력을 도와주는 훌륭한 구현체입니다.</p>\n<p>이보다 상위에서 해당 기능을 도와주는 인터페이스는 존재하지 않지만, 추상클래스로 <code class=\"language-text\">OutputStream</code>이 존재합니다.</p>\n<p>만약 이렇게 상위에서 다른 기능들을 감싸줄 상위클래스가 있다면 상위 클래스를 사용하는 것이 좋습니다.</p>\n<h3>인터페이스에는 없는 특별한 메서드를 제공하는 클래스들</h3>\n<p>위의 <code class=\"language-text\">HyeonMo</code>, <code class=\"language-text\">CheolSu</code> 예제에서도 <code class=\"language-text\">HyeonMo</code>는 <code class=\"language-text\">Person</code>이 제공하지 않는 <code class=\"language-text\">coding()</code> 메서드를 사용했습니다.</p>\n<p>만약 이렇듯 구현체만의 특별한 메서드를 사용하고 싶다면 어쩔 수 없이 구현체를 쓰는 것이 좋습니다.</p>\n<h2>결론</h2>\n<p>인터페이스를 사용하되, 적합한 인터페이스가 없다면 최대한 덜 구체적인 클래스를 타입으로 사용합시다.</p>","frontmatter":{"title":"[item64] 객체는 인터페이스를 사용해 참조하라","summary":"만약 어떤 클래스에 해당하는 인터페이스가 있다면, 구체적인 클래스보다 인터페이스 타입으로 선언하는 것이 좋습니다. 인터페이스 타입을 사용하는 습관을 길러두면 프로그램이 훨씬 유연해질 것입니다.","date":"2022.09.07.","categories":["effective_java"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACEUlEQVQ4y52S30/aUBSA+St998FnH3zxxZj45Bv/wpaYbW4mxmwwoTADTkdrS1UmY9PoNu2lLSKgtCj98S0tMHVD9+MmJ+c2+e537+k5idROj6XMEa+KFpLusq60Scttsjsd3mp9cvoV0u4NyxsGz/KnZMrXZNWIuSSjtEirN0i6Q27XJa15JHJ6j0JZZU05QVY+U/xQ5UX+lCerZZY3zyk2TQonNxTkA9bkMkVNIG8rrG7aLL3WeZr+Rl5c8N5sklZ9Euvla7Z2bCTNJqtfsFXpslq64uVmk4x2iXTQRdpzKOxdUdjvktO7bFc6rGsOz4tNUnIb6aMTR/zC4r7DhbrN4XGeyvdP1I0GZt3ENm3qwkKcWQjDxBAWhmEhhMmZYVEXQ6ZuY4o6R1/PSUVC+dBn3ArDgCAIoh1hGMb5dv/76rghb9Q+CfmLF4NBOIAjPAjGH7q9LGJHecC2nZ9C/w50C1SrVRRFodVqIYSg1+vRaDSwbXss/6BwUCaUSiXm5+eZmZlhenqaZDLJ4uIiExMTsZi4kuDPwtFaWVlhYWGBqakpZmdnmZycZG5uLhamUqmY8X3/74RRrtVqGIYRf7uuG5fe6XQGDRjmR0sO7v3o+w34tSF3GxOMhN2hUHlkbKKIx2X0kjvj8+DYbNU8fD+kPwzvH6PvDS6z2sFAmNb65Pc9Nioe7/4zorPZXY/I9QPmkQcBe3w4NQAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/327c2a185475980ae96309d9334c4ac8/3e909/effective_java_thumb.png","srcSet":"/static/327c2a185475980ae96309d9334c4ac8/7f2ad/effective_java_thumb.png 204w,\n/static/327c2a185475980ae96309d9334c4ac8/db3cb/effective_java_thumb.png 408w,\n/static/327c2a185475980ae96309d9334c4ac8/3e909/effective_java_thumb.png 815w","sizes":"(min-width: 815px) 815px, 100vw"},"sources":[{"srcSet":"/static/327c2a185475980ae96309d9334c4ac8/2ff66/effective_java_thumb.webp 204w,\n/static/327c2a185475980ae96309d9334c4ac8/1f8c8/effective_java_thumb.webp 408w,\n/static/327c2a185475980ae96309d9334c4ac8/9fe5f/effective_java_thumb.webp 815w","type":"image/webp","sizes":"(min-width: 815px) 815px, 100vw"}]},"width":815,"height":559}},"publicURL":"/static/327c2a185475980ae96309d9334c4ac8/effective_java_thumb.png"}}}}]}},"pageContext":{"slug":"/effective_java/2022-09-07-[item64]-객체는 인터페이스를 사용해 참조하라/"}},"staticQueryHashes":[]}