{"componentChunkName":"component---src-templates-post-template-tsx","path":"/effective_java/2022-06-23-[item4]-인스턴스화를 막으려거든 private 생성자를 사용하라/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<blockquote>\n<p><strong>인스턴스화를 막으려거든 private 생성자를 사용하라</strong></p>\n</blockquote>\n<p>가끔 정적 메서드와 정적 필드만을 담은 클래스를 만들고 싶을 때가 있습니다. 저자는 이런 클래스를 남용하는 것을 곱게 보고 있진 않지만, 분명 쓰임새가 있다고 말합니다. 그 예시로 <code class=\"language-text\">java.lang.Math</code>, <code class=\"language-text\">java.util.Arrays</code>와 같이 관련 메서드들을 모아놓을 수도 있고, <code class=\"language-text\">java.util.Collections</code>처럼 특정 인터페이스를 구현하는 객체를 생성해주는 정적 메서드를 모아놓을 수도 있다고 말합니다. 또 <code class=\"language-text\">final</code>클래스를 상속해서 하위 클래스에 메서드를 넣는 게 불가능하기 때문에 <code class=\"language-text\">final</code>클래스와 관련한 메서드들을 모아놓을 때도 사용합니다.</p>\n<p>아래는 실제 java에서 제공하는 <code class=\"language-text\">Arrays</code>, <code class=\"language-text\">Collections</code>코드의 일부를 가져온 것입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Arrays</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token comment\">// Suppresses default constructor, ensuring non-instantiability.</span>\n  <span class=\"token keyword\">private</span> <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  \n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> a<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">DualPivotQuicksort</span><span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Collections</span> <span class=\"token punctuation\">{</span>\n  \n  <span class=\"token comment\">// Suppresses default constructor, ensuring non-instantiability.</span>\n  <span class=\"token keyword\">private</span> <span class=\"token class-name\">Collections</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n  \n  <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SynchronizedSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">SynchronizedCollection</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@java.io.Serial</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">long</span> serialVersionUID <span class=\"token operator\">=</span> <span class=\"token number\">487447009682186044L</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 중략</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">Collections</code>는 <code class=\"language-text\">Set</code> 인터페이스를 실제 구현하고 있음을 볼 수 있습니다.</p>\n<p>위의 두 코드에서 공통점을 발견하셨나요?</p>\n<h2><code class=\"language-text\">private</code> 생성자를 사용해 인스턴스화를 막자!</h2>\n<p>네, 바로 <code class=\"language-text\">private</code> 생성자를 호출해주고 있다는 것입니다. 하위 클래스를 만들어서 인스턴스화 할 수 있기 때문에 앞서 말한 <strong>추상 클래스로 만드는 것 만으론 인스턴스화를 막을 수 없습니다.</strong> 만약 <code class=\"language-text\">private</code> 생성자를 호출해주지 않는다면 컴파일러가 자동으로 <code class=\"language-text\">public</code> 생성자를 만들어 줍니다. 이는 해당 클래스를 사용하는 사용자들은 상속을 해서 써도 된다고 판단할 수도 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MyDate</span> <span class=\"token punctuation\">{</span>\n  \n  <span class=\"token comment\">// 기본 생성자가 만들어지는 것을 막는다(인스턴스화 방지용).</span>\n  <span class=\"token keyword\">private</span> <span class=\"token class-name\">MyDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AssertionError</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>주석을 달아 혼동을 막자!</h3>\n<p>위의 코드들을 보면, <code class=\"language-text\">private</code>생성자 위에 주석을 달아줌으로서 사용자들에게 클래스에 생성자가 존재하지만 생성할 수 없음을 명확히 알려주고 있습니다. 저자는 주석으로 명시해 주길 권장하고 있습니다.</p>\n<h3>상속을 막는 효과</h3>\n<p>또, 상속을 막는 효과를 가져올 수 있습니다. 모든 생성자는 상위 클래스의 생성자를 호출하게 되는데, 이게 <code class=\"language-text\">private</code>으로 막혀 있어서 하위 클래스가 상위 클래스의 생성자에 접근할 길이 막혀버립니다. <strong>이는 곧 상속을 막는 효과를 가져옵니다.</strong></p>","frontmatter":{"title":"[item4] 인스턴스화를 막으려거든 private 생성자를 사용하라","summary":"가끔 정적 메서드와 정적 필드만을 담은 클래스를 만들고 싶을 때가 있습니다. 저자는 이런 클래스를 남용하는 것을 곱게 보고 있진 않지만, 분명 쓰임새가 있다고 말합니다.","date":"2022.06.23.","categories":["effective_java"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACEUlEQVQ4y52S30/aUBSA+St998FnH3zxxZj45Bv/wpaYbW4mxmwwoTADTkdrS1UmY9PoNu2lLSKgtCj98S0tMHVD9+MmJ+c2+e537+k5idROj6XMEa+KFpLusq60Scttsjsd3mp9cvoV0u4NyxsGz/KnZMrXZNWIuSSjtEirN0i6Q27XJa15JHJ6j0JZZU05QVY+U/xQ5UX+lCerZZY3zyk2TQonNxTkA9bkMkVNIG8rrG7aLL3WeZr+Rl5c8N5sklZ9Euvla7Z2bCTNJqtfsFXpslq64uVmk4x2iXTQRdpzKOxdUdjvktO7bFc6rGsOz4tNUnIb6aMTR/zC4r7DhbrN4XGeyvdP1I0GZt3ENm3qwkKcWQjDxBAWhmEhhMmZYVEXQ6ZuY4o6R1/PSUVC+dBn3ArDgCAIoh1hGMb5dv/76rghb9Q+CfmLF4NBOIAjPAjGH7q9LGJHecC2nZ9C/w50C1SrVRRFodVqIYSg1+vRaDSwbXss/6BwUCaUSiXm5+eZmZlhenqaZDLJ4uIiExMTsZi4kuDPwtFaWVlhYWGBqakpZmdnmZycZG5uLhamUqmY8X3/74RRrtVqGIYRf7uuG5fe6XQGDRjmR0sO7v3o+w34tSF3GxOMhN2hUHlkbKKIx2X0kjvj8+DYbNU8fD+kPwzvH6PvDS6z2sFAmNb65Pc9Nioe7/4zorPZXY/I9QPmkQcBe3w4NQAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/327c2a185475980ae96309d9334c4ac8/3e909/effective_java_thumb.png","srcSet":"/static/327c2a185475980ae96309d9334c4ac8/7f2ad/effective_java_thumb.png 204w,\n/static/327c2a185475980ae96309d9334c4ac8/db3cb/effective_java_thumb.png 408w,\n/static/327c2a185475980ae96309d9334c4ac8/3e909/effective_java_thumb.png 815w","sizes":"(min-width: 815px) 815px, 100vw"},"sources":[{"srcSet":"/static/327c2a185475980ae96309d9334c4ac8/2ff66/effective_java_thumb.webp 204w,\n/static/327c2a185475980ae96309d9334c4ac8/1f8c8/effective_java_thumb.webp 408w,\n/static/327c2a185475980ae96309d9334c4ac8/9fe5f/effective_java_thumb.webp 815w","type":"image/webp","sizes":"(min-width: 815px) 815px, 100vw"}]},"width":815,"height":559}},"publicURL":"/static/327c2a185475980ae96309d9334c4ac8/effective_java_thumb.png"}}}}]}},"pageContext":{"slug":"/effective_java/2022-06-23-[item4]-인스턴스화를 막으려거든 private 생성자를 사용하라/"}},"staticQueryHashes":[]}