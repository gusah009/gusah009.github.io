{"componentChunkName":"component---src-templates-post-template-tsx","path":"/effective_java/2022-09-14-[item66]-네이티브 메서드는 신중히 사용하라/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<blockquote>\n<p><strong>네이티브 메서드는 신중히 사용하라</strong></p>\n</blockquote>\n<p><code class=\"language-text\">Java</code>는 기본적으로 <code class=\"language-text\">C</code>나 <code class=\"language-text\">C++</code>같은 네이티브 언어를 기반으로 만들어진 언어입니다.</p>\n<p><code class=\"language-text\">Java</code>에서도 <strong>플랫폼에 특화한 기능</strong>이나, <strong>네이티브 코드로 작성된 기존 라이브러리를 사용</strong>할 때, <strong>성능을 향상</strong>시키고자 할 때 네이티브 언어로 개발하는데, 이를 **JNI(Java Native Interface)**라고 부릅니다.</p>\n<p>이번 장에서는 <code class=\"language-text\">Java</code>가 발전하면서 네이티브 메서드의 변화점에 대해 알아보겠습니다.</p>\n<h2>플랫폼 특화 기능</h2>\n<p>플랫폼에 특화된 기능을 사용하려면 네이티브 언어를 사용해야 합니다.</p>\n<p><code class=\"language-text\">Java9</code>에 들어서면서 새로운 <code class=\"language-text\">process API</code>를 추가하여 OS 프로세스에 접근하는 길을 열어줬지만, 여전히 <strong>대체할만한 자바 라이브러리가 없는 네이티브 라이브러리를 사용해야 할 때에는 네이티브 메서드를 사용</strong>해야 합니다.</p>\n<h2>성능 향상</h2>\n<p><strong>더 이상 성능을 향상시킬 목적으로 네이티브 메서드를 사용하는 것은 거의 권장하지 않습니다.</strong></p>\n<p>과거와 달리 <code class=\"language-text\">JVM</code>이 끊임없이 발전해오면서 대부분의 작업에서 지금의 자바는 다른 플랫폼에 견줄만한 성능을 보입니다.</p>\n<p>한 예로, <code class=\"language-text\">BigInteger</code>는 과거에 <code class=\"language-text\">C</code>로 작성한 고성능 라이브러리에 의지했었지만, 현재는 순수 자바로 구현되었고 세심히 튜닝한 결과 심지어 원래의 네이티브 구현보다도 빨라졌습니다.</p>\n<h3>GNU 다중 정밀 연산 라이브러리</h3>\n<p>한편, 네이티브 라이브러리 중 **다중 정밀 연산 라이브러리(GMP)**는 계속해서 개선 작업이 이루어졌습니다.</p>\n<p>그래서 <strong>정말 고성능의 다중 정밀 연산이 필요하다면</strong> 네이티브 메서드를 통해 GMP 사용을 고려해볼 수 있습니다.</p>\n<h2>네이티브 메서드의 단점</h2>\n<ol>\n<li>\n<p>네이티브 언어는 GC대상이 아니므로 메모리 훼손 오류로부터 안전하지 않습니다.</p>\n</li>\n<li>\n<p>또, 네이티브 언어는 자바보다 플랫폼에 종속적이기 때문에 이식성도 낮습니다.</p>\n</li>\n<li>\n<p>디버깅도 어려울뿐더러, 주의하지 않으면 속도가 더 느려질 수 있습니다.</p>\n</li>\n</ol>\n<h2>결론</h2>\n<p>더 이상 네이티브 메서드가 성능을 개선해주는 경우는 많지 않습니다.</p>\n<p>저수준 자원이나 네이티브 라이브러리를 사용해야만 해서 어쩔 수 없이 사용한다 하더라도, <strong>철저히 테스트하고 주의</strong>하도록 합시다.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>","frontmatter":{"title":"[item66] 네이티브 메서드는 신중히 사용하라","summary":"`Java`는 기본적으로 `C`나 `C++`같은 네이티브 언어를 기반으로 만들어진 언어입니다. 이번 장에서는 `Java`가 발전하면서 네이티브 메서드의 변화점에 대해 알아보겠습니다.","date":"2022.09.14.","categories":["effective_java"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACEUlEQVQ4y52S30/aUBSA+St998FnH3zxxZj45Bv/wpaYbW4mxmwwoTADTkdrS1UmY9PoNu2lLSKgtCj98S0tMHVD9+MmJ+c2+e537+k5idROj6XMEa+KFpLusq60Scttsjsd3mp9cvoV0u4NyxsGz/KnZMrXZNWIuSSjtEirN0i6Q27XJa15JHJ6j0JZZU05QVY+U/xQ5UX+lCerZZY3zyk2TQonNxTkA9bkMkVNIG8rrG7aLL3WeZr+Rl5c8N5sklZ9Euvla7Z2bCTNJqtfsFXpslq64uVmk4x2iXTQRdpzKOxdUdjvktO7bFc6rGsOz4tNUnIb6aMTR/zC4r7DhbrN4XGeyvdP1I0GZt3ENm3qwkKcWQjDxBAWhmEhhMmZYVEXQ6ZuY4o6R1/PSUVC+dBn3ArDgCAIoh1hGMb5dv/76rghb9Q+CfmLF4NBOIAjPAjGH7q9LGJHecC2nZ9C/w50C1SrVRRFodVqIYSg1+vRaDSwbXss/6BwUCaUSiXm5+eZmZlhenqaZDLJ4uIiExMTsZi4kuDPwtFaWVlhYWGBqakpZmdnmZycZG5uLhamUqmY8X3/74RRrtVqGIYRf7uuG5fe6XQGDRjmR0sO7v3o+w34tSF3GxOMhN2hUHlkbKKIx2X0kjvj8+DYbNU8fD+kPwzvH6PvDS6z2sFAmNb65Pc9Nioe7/4zorPZXY/I9QPmkQcBe3w4NQAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/327c2a185475980ae96309d9334c4ac8/3e909/effective_java_thumb.png","srcSet":"/static/327c2a185475980ae96309d9334c4ac8/7f2ad/effective_java_thumb.png 204w,\n/static/327c2a185475980ae96309d9334c4ac8/db3cb/effective_java_thumb.png 408w,\n/static/327c2a185475980ae96309d9334c4ac8/3e909/effective_java_thumb.png 815w","sizes":"(min-width: 815px) 815px, 100vw"},"sources":[{"srcSet":"/static/327c2a185475980ae96309d9334c4ac8/2ff66/effective_java_thumb.webp 204w,\n/static/327c2a185475980ae96309d9334c4ac8/1f8c8/effective_java_thumb.webp 408w,\n/static/327c2a185475980ae96309d9334c4ac8/9fe5f/effective_java_thumb.webp 815w","type":"image/webp","sizes":"(min-width: 815px) 815px, 100vw"}]},"width":815,"height":559}},"publicURL":"/static/327c2a185475980ae96309d9334c4ac8/effective_java_thumb.png"}}}}]}},"pageContext":{"slug":"/effective_java/2022-09-14-[item66]-네이티브 메서드는 신중히 사용하라/"}},"staticQueryHashes":[]}