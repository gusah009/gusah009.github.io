{"componentChunkName":"component---src-templates-post-template-tsx","path":"/effective_java/2022-09-28-[item69]-예외는 진짜 예외상황에서만 사용하라/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<blockquote>\n<p><strong>예외는 진짜 예외상황에서만 사용하라</strong></p>\n</blockquote>\n<h2>반복문 종료 조건으로 예외 상황 사용하기</h2>\n<p>때때로 예외를 예외상황이 아닌, 특수한 목적으로 사용하려는 사람들이 있습니다.</p>\n<p><code class=\"language-text\">effective java</code>에 나온 예시처럼 <strong>반복문의 종료 조건으로 예외를 이용</strong>하는 것을 볼 수 있습니다.</p>\n<p>이런 시도를 한 이유는 JVM은 배열에 접근할 때마다 경계를 넘지 않는지 검사하는데, 반복문에도 이를 명시하면 <strong>같은 일이 중복</strong>되므로 하나를 생략한 것입니다.</p>\n<p>하지만 이는 세 가지 측면에서 잘못된 추론입니다.</p>\n<ol>\n<li>예외는 예외 상황에 쓸 용도로 설계되었으므로 JVM 구현자 입장에서는 명확한 검사만큼 빠르게 만들어야 할 동기가 약합니다. 따라서 <strong>최적화에 신경 쓰지 않았을 가능성이 높습니다.</strong></li>\n<li>코드를 <code class=\"language-text\">try-catch</code> 블록 안에 넣으면 <strong>JVM이 적용할 수 있는 최적화가 제한됩니다.</strong></li>\n<li>배열을 순회하는 표준 관용구는 앞서 걱정한 <strong>중복 검사를 수행하지 않습니다.</strong> JVM이 알아서 최적화하여 없애줍니다.</li>\n</ol>\n<p>실상은 <strong>예외를 사용한 쪽이 표준 관용구보다 훨씬 느립니다.</strong> 가독성도 잃고, 성능도 잃는 셈입니다.</p>\n<p>예외를 사용한 반복문의 문제는 여기서 끝이 아닙니다. <code class=\"language-text\">try-catch</code>로 예외를 잡아버렸기 때문에, 실제 예외 상황에서 예외를 놓칠 수 있습니다.</p>\n<h2>‘상태 의존적’ 메서드를 제공하는 클래스는 ‘상태 검사’ 메서드도 함께 제공한다.</h2>\n<p><code class=\"language-text\">iterator</code>의 <code class=\"language-text\">next()</code> 메서드는 반드시 다음 값이 있어야 다음 값을 반환합니다.</p>\n<p>만약 마지막 원소인데 <code class=\"language-text\">next()</code>를 호출했다면 <code class=\"language-text\">NoSuchElementException</code>을 일으키게 됩니다.</p>\n<p>현재 <code class=\"language-text\">iterator</code>의 <strong>상태에 의존하는 <code class=\"language-text\">next()</code> 메서드는 대표적인 ‘상태 의존적’ 메서드</strong>라고 볼 수 있습니다.</p>\n<p>이런 ‘상태 의존적’ 메서드는 ‘상태 검사’ 메서드도 함께 제공하여야 <strong>클라이언트가 항상 예외로써 상태를 확인하는 불상사를 막을 수 있습니다.</strong></p>\n<p><code class=\"language-text\">next()</code>의 ‘상태 검사’ 메서드는 <code class=\"language-text\">hasNext()</code>입니다. <code class=\"language-text\">hasNext()</code>를 통해 상태를 검사하고 <code class=\"language-text\">next()</code>를 수행할 것인지 아닌지 결정할 수 있습니다.</p>\n<h2>결론</h2>\n<p>결론은 간단합니다. 예외는 예외 상황에서 쓸 의도로 설계되었으니, 정상적인 제어 흐름에서 사용하지 않도록 합시다. 또한 API를 제공할 때 예외를 강요하게끔 설계해서도 안됩니다.</p>","frontmatter":{"title":"[item69] 예외는 진짜 예외상황에서만 사용하라","summary":"때때로 예외를 예외상황이 아닌, 특수한 목적으로 사용하려는 사람들이 있습니다. `effective java`에 나온 예시처럼 반복문의 종료 조건으로 예외를 이용하는 것을 볼 수 있습니다.","date":"2022.09.28.","categories":["effective_java"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACEUlEQVQ4y52S30/aUBSA+St998FnH3zxxZj45Bv/wpaYbW4mxmwwoTADTkdrS1UmY9PoNu2lLSKgtCj98S0tMHVD9+MmJ+c2+e537+k5idROj6XMEa+KFpLusq60Scttsjsd3mp9cvoV0u4NyxsGz/KnZMrXZNWIuSSjtEirN0i6Q27XJa15JHJ6j0JZZU05QVY+U/xQ5UX+lCerZZY3zyk2TQonNxTkA9bkMkVNIG8rrG7aLL3WeZr+Rl5c8N5sklZ9Euvla7Z2bCTNJqtfsFXpslq64uVmk4x2iXTQRdpzKOxdUdjvktO7bFc6rGsOz4tNUnIb6aMTR/zC4r7DhbrN4XGeyvdP1I0GZt3ENm3qwkKcWQjDxBAWhmEhhMmZYVEXQ6ZuY4o6R1/PSUVC+dBn3ArDgCAIoh1hGMb5dv/76rghb9Q+CfmLF4NBOIAjPAjGH7q9LGJHecC2nZ9C/w50C1SrVRRFodVqIYSg1+vRaDSwbXss/6BwUCaUSiXm5+eZmZlhenqaZDLJ4uIiExMTsZi4kuDPwtFaWVlhYWGBqakpZmdnmZycZG5uLhamUqmY8X3/74RRrtVqGIYRf7uuG5fe6XQGDRjmR0sO7v3o+w34tSF3GxOMhN2hUHlkbKKIx2X0kjvj8+DYbNU8fD+kPwzvH6PvDS6z2sFAmNb65Pc9Nioe7/4zorPZXY/I9QPmkQcBe3w4NQAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/327c2a185475980ae96309d9334c4ac8/3e909/effective_java_thumb.png","srcSet":"/static/327c2a185475980ae96309d9334c4ac8/7f2ad/effective_java_thumb.png 204w,\n/static/327c2a185475980ae96309d9334c4ac8/db3cb/effective_java_thumb.png 408w,\n/static/327c2a185475980ae96309d9334c4ac8/3e909/effective_java_thumb.png 815w","sizes":"(min-width: 815px) 815px, 100vw"},"sources":[{"srcSet":"/static/327c2a185475980ae96309d9334c4ac8/2ff66/effective_java_thumb.webp 204w,\n/static/327c2a185475980ae96309d9334c4ac8/1f8c8/effective_java_thumb.webp 408w,\n/static/327c2a185475980ae96309d9334c4ac8/9fe5f/effective_java_thumb.webp 815w","type":"image/webp","sizes":"(min-width: 815px) 815px, 100vw"}]},"width":815,"height":559}},"publicURL":"/static/327c2a185475980ae96309d9334c4ac8/effective_java_thumb.png"}}}}]}},"pageContext":{"slug":"/effective_java/2022-09-28-[item69]-예외는 진짜 예외상황에서만 사용하라/"}},"staticQueryHashes":[]}