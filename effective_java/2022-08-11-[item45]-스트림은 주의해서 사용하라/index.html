<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 4.24.2"/><meta data-react-helmet="true" name="description" content="`Java8`부터 스트림 API가 추가되었습니다. 이는 함수형 패러다임을 기본적으로 탑재하고, 다량의 데이터 처리 작업을 도와주는 역할로서 나왔습니다. 이번 장에서는 스트림이 무엇인지, 그리고 스트림을 언제 어떻게 써야 하는 지에 대해 알아보겠습니다."/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1.0"/><meta data-react-helmet="true" http-equiv="Content-Type" content="text/html;charset=UTF-8"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="[item45] 스트림은 주의해서 사용하라"/><meta data-react-helmet="true" property="og:description" content="`Java8`부터 스트림 API가 추가되었습니다. 이는 함수형 패러다임을 기본적으로 탑재하고, 다량의 데이터 처리 작업을 도와주는 역할로서 나왔습니다. 이번 장에서는 스트림이 무엇인지, 그리고 스트림을 언제 어떻게 써야 하는 지에 대해 알아보겠습니다."/><meta data-react-helmet="true" property="og:image" content="/static/327c2a185475980ae96309d9334c4ac8/effective_java_thumb.png"/><meta data-react-helmet="true" property="og:url"/><meta data-react-helmet="true" property="og:site_name" content="[item45] 스트림은 주의해서 사용하라"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="[item45] 스트림은 주의해서 사용하라"/><meta data-react-helmet="true" name="twitter:description" content="`Java8`부터 스트림 API가 추가되었습니다. 이는 함수형 패러다임을 기본적으로 탑재하고, 다량의 데이터 처리 작업을 도와주는 역할로서 나왔습니다. 이번 장에서는 스트림이 무엇인지, 그리고 스트림을 언제 어떻게 써야 하는 지에 대해 알아보겠습니다."/><meta data-react-helmet="true" name="twitter:image" content="/static/327c2a185475980ae96309d9334c4ac8/effective_java_thumb.png"/><meta data-react-helmet="true" name="twitter:site" content="@사용자이름"/><meta data-react-helmet="true" name="twitter:creator" content="@사용자이름"/><style data-href="/styles.7b18ddd1cdb30aa4ad44.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}pre[class*=language-].line-numbers{counter-reset:linenumber;padding-left:3.8em;position:relative}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{border-right:1px solid #999;font-size:100%;left:-3.8em;letter-spacing:-1px;pointer-events:none;position:absolute;top:0;-webkit-user-select:none;user-select:none;width:3em}.line-numbers-rows>span{counter-increment:linenumber;display:block}.line-numbers-rows>span:before{color:#999;content:counter(linenumber);display:block;padding-right:.8em;text-align:right}.gatsby-highlight-code-line{background-color:rgba(50,50,130,.514);border-left:.25em solid #00a2ff;display:block;margin-left:-1em;margin-right:-1em;padding-left:.75em;padding-right:1em}.gatsby-highlight{background-color:#252525;border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}.gatsby-highlight pre[class*=language-]{background-color:transparent;float:left;margin:0;min-width:100%;overflow:initial;padding:0}.gatsby-highlight pre[class*=language-].line-numbers{overflow:initial;padding:0 0 0 2.8em}


/*
! tailwindcss v3.1.8 | MIT License | https://tailwindcss.com
*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-webkit-input-placeholder,textarea::-webkit-input-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::-webkit-backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.sr-only{clip:rect(0,0,0,0);border-width:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.fixed{position:fixed}.absolute{position:absolute}.\!absolute{position:absolute!important}.relative{position:relative}.sticky{position:-webkit-sticky;position:sticky}.inset-0{bottom:0;left:0;right:0;top:0}.top-0{top:0}.right-0{right:0}.z-40{z-index:40}.z-10{z-index:10}.-z-10{z-index:-10}.m-auto{margin:auto}.mx-auto{margin-left:auto;margin-right:auto}.my-2{margin-bottom:.5rem;margin-top:.5rem}.my-0\.5{margin-bottom:.125rem;margin-top:.125rem}.my-0{margin-bottom:0;margin-top:0}.mx-3{margin-left:.75rem;margin-right:.75rem}.mt-7{margin-top:1.75rem}.mt-auto{margin-top:auto}.-mr-12{margin-right:-3rem}.-ml-24{margin-left:-6rem}.mt-10{margin-top:2.5rem}.mb-3{margin-bottom:.75rem}.mt-1{margin-top:.25rem}.ml-4{margin-left:1rem}.-ml-\[90px\]{margin-left:-90px}.mr-3{margin-right:.75rem}.ml-6{margin-left:1.5rem}.mt-5{margin-top:1.25rem}.mb-0{margin-bottom:0}.mr-4{margin-right:1rem}.mb-1{margin-bottom:.25rem}.mb-8{margin-bottom:2rem}.mt-4{margin-top:1rem}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-10{height:2.5rem}.h-6{height:1.5rem}.h-20{height:5rem}.h-5{height:1.25rem}.h-8{height:2rem}.h-12{height:3rem}.h-full{height:100%}.h-72{height:18rem}.h-44{height:11rem}.h-14{height:3.5rem}.h-7{height:1.75rem}.w-full{width:100%}.w-10{width:2.5rem}.w-6{width:1.5rem}.w-20{width:5rem}.w-5{width:1.25rem}.w-14{width:3.5rem}.w-8{width:2rem}.w-auto{width:auto}.w-7{width:1.75rem}.max-w-xs{max-width:20rem}.flex-1{flex:1 1}.flex-shrink-0{flex-shrink:0}.shrink{flex-shrink:1}.flex-grow{flex-grow:1}.-translate-x-full{--tw-translate-x:-100%}.-translate-x-full,.translate-x-0{-webkit-transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-0{--tw-translate-x:0px}.rotate-90{--tw-rotate:90deg}.rotate-90,.transform{-webkit-transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-pointer{cursor:pointer}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.place-items-center{place-items:center}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-5{gap:1.25rem}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-bottom:calc(.25rem*var(--tw-space-y-reverse));margin-top:calc(.25rem*(1 - var(--tw-space-y-reverse)))}.space-x-1>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(.25rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(.25rem*var(--tw-space-x-reverse))}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.text-ellipsis{text-overflow:ellipsis}.whitespace-normal{white-space:normal}.whitespace-pre{white-space:pre}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.rounded-full{border-radius:9999px}.rounded-md{border-radius:.375rem}.rounded-lg{border-radius:.5rem}.border{border-width:1px}.border-l-2{border-left-width:2px}.border-r{border-right-width:1px}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235/var(--tw-border-opacity))}.bg-gray-600{--tw-bg-opacity:1;background-color:rgb(75 85 99/var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.bg-indigo-200{--tw-bg-opacity:1;background-color:rgb(199 210 254/var(--tw-bg-opacity))}.bg-indigo-300{--tw-bg-opacity:1;background-color:rgb(165 180 252/var(--tw-bg-opacity))}.bg-indigo-100{--tw-bg-opacity:1;background-color:rgb(224 231 255/var(--tw-bg-opacity))}.bg-teal-700{--tw-bg-opacity:1;background-color:rgb(15 118 110/var(--tw-bg-opacity))}.bg-opacity-75{--tw-bg-opacity:0.75}.bg-gradient-to-bl{background-image:linear-gradient(to bottom left,var(--tw-gradient-stops))}.from-gray-700{--tw-gradient-from:#374151;--tw-gradient-to:rgba(55,65,81,0);--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to)}.via-gray-900{--tw-gradient-to:rgba(17,24,39,0);--tw-gradient-stops:var(--tw-gradient-from),#111827,var(--tw-gradient-to)}.to-black{--tw-gradient-to:#000}.object-cover{-o-object-fit:cover;object-fit:cover}.p-12{padding:3rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-2{padding-left:.5rem;padding-right:.5rem}.py-1{padding-bottom:.25rem;padding-top:.25rem}.py-12{padding-bottom:3rem;padding-top:3rem}.py-0{padding-bottom:0;padding-top:0}.py-14{padding-bottom:3.5rem;padding-top:3.5rem}.py-10{padding-bottom:2.5rem;padding-top:2.5rem}.pt-5{padding-top:1.25rem}.pb-4{padding-bottom:1rem}.pt-2{padding-top:.5rem}.pt-12{padding-top:3rem}.pl-5{padding-left:1.25rem}.text-left{text-align:left}.text-center{text-align:center}.text-7xl{font-size:4.5rem;line-height:1}.text-lg{font-size:1.125rem}.text-lg,.text-xl{line-height:1.75rem}.text-xl{font-size:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-2xl{font-size:1.5rem;line-height:2rem}.text-base{font-size:1rem;line-height:1.5rem}.font-extrabold{font-weight:800}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.italic{font-style:italic}.leading-5{line-height:1.25rem}.leading-6{line-height:1.5rem}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity))}.text-black{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity))}.text-slate-900{--tw-text-opacity:1;color:rgb(15 23 42/var(--tw-text-opacity))}.text-slate-500{--tw-text-opacity:1;color:rgb(100 116 139/var(--tw-text-opacity))}.text-slate-600{--tw-text-opacity:1;color:rgb(71 85 105/var(--tw-text-opacity))}.text-slate-400{--tw-text-opacity:1;color:rgb(148 163 184/var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.text-indigo-300{--tw-text-opacity:1;color:rgb(165 180 252/var(--tw-text-opacity))}.text-violet-500{--tw-text-opacity:1;color:rgb(139 92 246/var(--tw-text-opacity))}.text-violet-200{--tw-text-opacity:1;color:rgb(221 214 254/var(--tw-text-opacity))}.text-zinc-800{--tw-text-opacity:1;color:rgb(39 39 42/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.text-blue-300{--tw-text-opacity:1;color:rgb(147 197 253/var(--tw-text-opacity))}.underline{text-decoration-line:underline}.opacity-0{opacity:0}.opacity-100{opacity:1}.opacity-70{opacity:.7}.opacity-80{opacity:.8}.shadow-lg{--tw-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -4px rgba(0,0,0,.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color)}.shadow,.shadow-lg{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color)}.shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-slate-200{--tw-shadow-color:#e2e8f0;--tw-shadow:var(--tw-shadow-colored)}.brightness-50{--tw-brightness:brightness(.5)}.brightness-50,.filter{-webkit-filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,-webkit-transform,-webkit-filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-transform,-webkit-filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-300{transition-duration:.3s}.ease-linear{transition-timing-function:linear}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.line-clamp-2{-webkit-box-orient:vertical;-webkit-line-clamp:2;display:-webkit-box;overflow:hidden}.last-of-type\:mr-0:last-of-type{margin-right:0}.hover\:bg-slate-200:hover{--tw-bg-opacity:1;background-color:rgb(226 232 240/var(--tw-bg-opacity))}.hover\:bg-indigo-100:hover{--tw-bg-opacity:1;background-color:rgb(224 231 255/var(--tw-bg-opacity))}.hover\:bg-indigo-200:hover{--tw-bg-opacity:1;background-color:rgb(199 210 254/var(--tw-bg-opacity))}.hover\:underline:hover{text-decoration-line:underline}.hover\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -4px rgba(0,0,0,.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.focus\:ring-inset:focus{--tw-ring-inset:inset}.focus\:ring-white:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(255 255 255/var(--tw-ring-opacity))}.focus\:ring-indigo-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(99 102 241/var(--tw-ring-opacity))}.ui-open\:rounded-t-md[data-headlessui-state~=open]{border-top-left-radius:.375rem;border-top-right-radius:.375rem}:where([data-headlessui-state~=open]) .ui-open\:rounded-t-md{border-top-left-radius:.375rem;border-top-right-radius:.375rem}.ui-not-open\:rounded-md[data-headlessui-state]:not([data-headlessui-state~=open]){border-radius:.375rem}.ui-not-open\:bg-white[data-headlessui-state]:not([data-headlessui-state~=open]){--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}:where([data-headlessui-state]:not([data-headlessui-state~=open])) .ui-not-open\:rounded-md:not([data-headlessui-state]){border-radius:.375rem}:where([data-headlessui-state]:not([data-headlessui-state~=open])) .ui-not-open\:bg-white:not([data-headlessui-state]){--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}@media (min-width:640px){.sm\:mx-auto{margin-left:auto;margin-right:auto}}@media (min-width:768px){.md\:mt-10{margin-top:2.5rem}.md\:flex{display:flex}.md\:h-96{height:24rem}.md\:h-32{height:8rem}.md\:h-10{height:2.5rem}.md\:w-\[768px\]{width:768px}.md\:w-32{width:8rem}.md\:w-\[725px\]{width:725px}.md\:w-10{width:2.5rem}.md\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\:items-center{align-items:center}.md\:p-0{padding:0}.md\:px-0{padding-left:0;padding-right:0}.md\:py-16{padding-bottom:4rem;padding-top:4rem}.md\:py-14{padding-bottom:3.5rem;padding-top:3.5rem}.md\:pt-16{padding-top:4rem}.md\:pb-24{padding-bottom:6rem}.md\:text-9xl{font-size:8rem;line-height:1}.md\:text-2xl{font-size:1.5rem;line-height:2rem}.md\:text-sm{font-size:.875rem;line-height:1.25rem}.md\:text-lg{font-size:1.125rem;line-height:1.75rem}.md\:text-xl{font-size:1.25rem;line-height:1.75rem}.md\:text-3xl{font-size:1.875rem;line-height:2.25rem}.md\:text-5xl{font-size:3rem;line-height:1}.md\:font-semibold{font-weight:600}}@media (min-width:1024px){.lg\:fixed{position:fixed}.lg\:inset-y-0{bottom:0;top:0}.lg\:block{display:block}.lg\:flex{display:flex}.lg\:hidden{display:none}.lg\:w-64{width:16rem}.lg\:w-\[768px\]{width:768px}.lg\:flex-col{flex-direction:column}.lg\:pl-64{padding-left:16rem}}</style><title data-react-helmet="true">[item45] 스트림은 주의해서 사용하라</title><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="canonical" href="https://gusah009.github.io/effective_java/2022-08-11-[item45]-스트림은%20주의해서%20사용하라/" data-baseprotocol="https:" data-basehost="gusah009.github.io"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><main class="flex flex-col h-full"><div><div class="hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0"><div class="absolute top-0 right-0 -mr-12 pt-2"><button type="button" class="-ml-[90px] flex items-center justify-center h-8 w-8 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white"><span class="sr-only">Close sidebar</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-6 w-6 text-black"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button></div><div class="flex flex-col flex-grow bg-white shadow-lg shadow-slate-200 overflow-y-auto"><div class="w-full flex flex-col items-center px-4 mt-10 "><a href="/"><img class="w-20 h-20 mb-3 rounded-md" src="https://avatars.githubusercontent.com/u/26597702?v=4" alt="profilte"/></a><div class=" text-slate-900 text-md font-bold">gusah009</div></div><div class="w-full px-3 pt-12"><button class="flex mt-1 w-full justify-between ui-not-open:rounded-md ui-open:rounded-t-md px-4 py-2 text-left text-sm font-medium text-slate-900 hover:bg-slate-200" id="headlessui-disclosure-button-:R1l9:" type="button" aria-expanded="false" data-headlessui-state=""><span>JAVA</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class=" h-5 w-5 text-slate-500"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path></svg></button><button type="button" aria-hidden="true" style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0"></button><div class="ml-4 border-l-2"></div><button class="flex mt-1 w-full justify-between ui-not-open:rounded-md ui-open:rounded-t-md px-4 py-2 text-left text-sm font-medium text-slate-900 hover:bg-slate-200" id="headlessui-disclosure-button-:R2l9:" type="button" aria-expanded="false" data-headlessui-state=""><span>PROJECTS</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class=" h-5 w-5 text-slate-500"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path></svg></button><button type="button" aria-hidden="true" style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0"></button><div class="ml-4 border-l-2"></div><button class="flex mt-1 w-full justify-between ui-not-open:rounded-md ui-open:rounded-t-md px-4 py-2 text-left text-sm font-medium text-slate-900 hover:bg-slate-200" id="headlessui-disclosure-button-:R3l9:" type="button" aria-expanded="false" data-headlessui-state=""><span>ETC</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class=" h-5 w-5 text-slate-500"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path></svg></button><button type="button" aria-hidden="true" style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0"></button><div class="ml-4 border-l-2"></div><button class="flex mt-1 w-full justify-between ui-not-open:rounded-md ui-open:rounded-t-md px-4 py-2 text-left text-sm font-medium text-slate-900 hover:bg-slate-200" id="headlessui-disclosure-button-:R4l9:" type="button" aria-expanded="false" data-headlessui-state=""><span>일상</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class=" h-5 w-5 text-slate-500"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path></svg></button><button type="button" aria-hidden="true" style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0"></button><div class="ml-4 border-l-2"></div></div></div></div><div class=" lg:pl-64 flex flex-col flex-1"><div class="sticky top-0 z-10 flex-shrink-0 flex h-12 bg-white shadow"><button type="button" class="px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 lg:hidden"><span class="sr-only">Open sidebar</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-6 w-6"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h7"></path></svg></button><button type="button" class="px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 hidden "><span class="sr-only">Open sidebar</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-6 w-6"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h7"></path></svg></button><div class="flex-1 px-4 flex justify-between text-black"><div></div><a class="flex items-center" href="/"><img class="h-8 w-8 rounded-full" src="https://avatars.githubusercontent.com/u/26597702?v=4" alt=""/></a></div></div><main><div class="w-full h-72 md:h-96"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained !absolute -z-10 w-full h-72 md:h-96 object-cover brightness-50 bg-white"><div style="max-width:815px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;559&#x27; width=&#x27;815&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACEUlEQVQ4y52S30/aUBSA+St998FnH3zxxZj45Bv/wpaYbW4mxmwwoTADTkdrS1UmY9PoNu2lLSKgtCj98S0tMHVD9+MmJ+c2+e537+k5idROj6XMEa+KFpLusq60Scttsjsd3mp9cvoV0u4NyxsGz/KnZMrXZNWIuSSjtEirN0i6Q27XJa15JHJ6j0JZZU05QVY+U/xQ5UX+lCerZZY3zyk2TQonNxTkA9bkMkVNIG8rrG7aLL3WeZr+Rl5c8N5sklZ9Euvla7Z2bCTNJqtfsFXpslq64uVmk4x2iXTQRdpzKOxdUdjvktO7bFc6rGsOz4tNUnIb6aMTR/zC4r7DhbrN4XGeyvdP1I0GZt3ENm3qwkKcWQjDxBAWhmEhhMmZYVEXQ6ZuY4o6R1/PSUVC+dBn3ArDgCAIoh1hGMb5dv/76rghb9Q+CfmLF4NBOIAjPAjGH7q9LGJHecC2nZ9C/w50C1SrVRRFodVqIYSg1+vRaDSwbXss/6BwUCaUSiXm5+eZmZlhenqaZDLJ4uIiExMTsZi4kuDPwtFaWVlhYWGBqakpZmdnmZycZG5uLhamUqmY8X3/74RRrtVqGIYRf7uuG5fe6XQGDRjmR0sO7v3o+w34tSF3GxOMhN2hUHlkbKKIx2X0kjvj8+DYbNU8fD+kPwzvH6PvDS6z2sFAmNb65Pc9Nioe7/4zorPZXY/I9QPmkQcBe3w4NQAAAABJRU5ErkJggg==" alt=""/><picture><source type="image/webp" data-srcset="/static/327c2a185475980ae96309d9334c4ac8/2ff66/effective_java_thumb.webp 204w,/static/327c2a185475980ae96309d9334c4ac8/1f8c8/effective_java_thumb.webp 408w,/static/327c2a185475980ae96309d9334c4ac8/9fe5f/effective_java_thumb.webp 815w" sizes="(min-width: 815px) 815px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 815px) 815px, 100vw" decoding="async" loading="lazy" data-src="/static/327c2a185475980ae96309d9334c4ac8/3e909/effective_java_thumb.png" data-srcset="/static/327c2a185475980ae96309d9334c4ac8/7f2ad/effective_java_thumb.png 204w,/static/327c2a185475980ae96309d9334c4ac8/db3cb/effective_java_thumb.png 408w,/static/327c2a185475980ae96309d9334c4ac8/3e909/effective_java_thumb.png 815w" alt="thumbnail"/></picture><noscript><picture><source type="image/webp" srcSet="/static/327c2a185475980ae96309d9334c4ac8/2ff66/effective_java_thumb.webp 204w,/static/327c2a185475980ae96309d9334c4ac8/1f8c8/effective_java_thumb.webp 408w,/static/327c2a185475980ae96309d9334c4ac8/9fe5f/effective_java_thumb.webp 815w" sizes="(min-width: 815px) 815px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 815px) 815px, 100vw" decoding="async" loading="lazy" src="/static/327c2a185475980ae96309d9334c4ac8/3e909/effective_java_thumb.png" srcSet="/static/327c2a185475980ae96309d9334c4ac8/7f2ad/effective_java_thumb.png 204w,/static/327c2a185475980ae96309d9334c4ac8/db3cb/effective_java_thumb.png 408w,/static/327c2a185475980ae96309d9334c4ac8/3e909/effective_java_thumb.png 815w" alt="thumbnail"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><div class="flex flex-col w-full md:w-[768px] h-full my-0 mx-auto py-10 px-5 md:py-14 md:px-0 text-white"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" class=" grid place-items-center w-7 h-7 md:w-10 md:h-10 text-white cursor-pointer"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm.707-10.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L9.414 11H13a1 1 0 100-2H9.414l1.293-1.293z" clip-rule="evenodd"></path></svg><div class=" overflow-hidden break-words mt-auto text-ellipsis whitespace-normal line-clamp-2 text-2xl md:text-5xl font-bold">[item45] 스트림은 주의해서 사용하라</div><div class="flex justify-between items-start md:items-center mt-4 text-base md:text-lg font-normal md:font-semibold"><div>effective_java</div><div>2022.08.11.</div></div></div></div><style data-emotion="css yyshw1">.css-yyshw1{line-height:1.8;font-size:16px;font-weight:400;}.css-yyshw1 p{padding:3px 0;}.css-yyshw1 h1,.css-yyshw1 h2,.css-yyshw1 h3{font-weight:800;margin-bottom:5px;}.css-yyshw1 *+h1,.css-yyshw1 *+h2,.css-yyshw1 *+h3{margin-top:25px;}.css-yyshw1 hr+h1,.css-yyshw1 hr+h2,.css-yyshw1 hr+h3,.css-yyshw1 h2+h3{margin-top:0;}.css-yyshw1 h1{font-size:30px;}.css-yyshw1 h2{font-size:25px;}.css-yyshw1 h3{font-size:20px;}.css-yyshw1 blockquote{margin:30px 0;padding:5px 15px;border-left:2px solid #000000;font-weight:800;font-style:italic;}.css-yyshw1 ol,.css-yyshw1 ul{margin-left:20px;padding:30px 0;}.css-yyshw1 hr{border:1px solid #000000;margin:100px 0;}.css-yyshw1 a{color:#4263eb;-webkit-text-decoration:underline;text-decoration:underline;}</style><div class="flex flex-col w-auto md:w-[725px] lg:w-[768px] mx-3 sm:mx-auto my-0 py-14 px-5 md:py-16 md:px-0 break-all css-yyshw1 e1ijh0y10"><blockquote>
<p><strong>스트림은 주의해서 사용하라</strong></p>
</blockquote>
<p><code class="language-text">Java8</code>부터 스트림 API가 추가되었습니다. 이는 함수형 패러다임을 기본적으로 탑재하고, 다량의 데이터 처리 작업을 도와주는 역할로서 나왔습니다. 이번 장에서는 스트림이 무엇인지, 그리고 스트림을 언제 어떻게 써야 하는 지에 대해 알아보겠습니다.</p>
<h2>스트림 API</h2>
<p>스트림 API는 크게 세 파트로 나뉩니다. <strong>소스 스트림(시작), 중간 연산, 종단 연산</strong>입니다.</p>
<h3>1. 소스 스트림(시작)</h3>
<p>일단 스트림 API를 사용하려면 데이터를 담은 스트림을 생성해야 합니다. 대표적으로 <code class="language-text">Arrays.stream()</code>나 <code class="language-text">IntStream.range(exp1, exp2)</code>가 있습니다.</p>
<h3>2. 중간 연산</h3>
<p>스트림은 중간 연산을 <strong>하나 이상</strong> 가질 수 있는데, 각 중간 연산은 스트림을 어떠한 방식으로 변환합니다. <code class="language-text">filter</code>의 경우 특정 조건을 만족하는 원소만 거를 수 있고, <code class="language-text">map</code>의 경우 원소들에 모두 어떤 변화를 가해서 새로운 스트림을 반환합니다. 이 때문에 변환 전 스트림의 원소 타입과 변환 후 스트림의 원소 타입이 다를 수 있습니다.</p>
<h3>3. 종단 연산</h3>
<p>종단 연산은 중간 연산이 내놓은 스트림에 최종 연산을 가합니다. <code class="language-text">toList()</code>와 같이 컬렉션에 담을 수도 있고, <code class="language-text">findFirst()</code> 처럼 특정 원소를 선택할 수도 있습니다.</p>
<h2>지연 평가 (Lazy Evaluation)</h2>
<p>스트림은 종단 연산이 호출될 때 이뤄지며 종단 연산에 쓰이지 않는 데이터 원소는 계산에 쓰이지 않습니다. 아래 코드는 종단연산이 없는 스트림 연산입니다. 1, 2, 3 원소들이 출력될 것 같지만 아무것도 출력되지 않습니다. 이렇듯 종단 연산을 기준으로 연산이 진행되는 것을 지연 평가라고 합니다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token class-name">IntStream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>i <span class="token operator">-></span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token string">" 호출!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 아무것도 출력되지 않음.</span></code></pre></div>
<p>지연 평가의 예시를 하나 더 보겠습니다. 아래와 같이 종단 연산이 <code class="language-text">findFirst()</code>로 구성된 스트림입니다. 이번엔 종단 연산이 있기 때문에 1, 2, 3을 호출할 것 같지만 사실 1만 호출됩니다. <code class="language-text">findFirst()</code>가 종단 연산이면, 사실 첫 번째 원소를 제외하고 이후의 데이터들은 더 이상 연산하는 것이 무의미합니다. 이를 스트림은 지연 평가를 통해 애초에 종단 연산에 쓰이지 않을 데이터 원소는 계산에 쓰이지 않습니다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token class-name">IntStream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>i <span class="token operator">-></span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token string">" 호출!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">findFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1 호출!</span></code></pre></div>
<h2>스트림이 필요한 경우</h2>
<p>스트림은 데이터 처리 작업에 있어서 코드를 훨씬 간결하게 해줍니다. 하지만 책에 나온 예시처럼 잘못 사용하면 유지보수를 어렵게 만드는 주범이 됩니다. 스트림을 사용한다면 대개 람다식이 내부적으로 들어가는데, 람다식은 이름이 없으므로 람다식에 쓰이는 매개변수는 반드시 이름을 잘 지어야 가독성을 높일 수 있습니다.</p>
<blockquote>
<p>char 값을 처리할 땐 스트림을 삼가는 게 좋습니다. <code class="language-text">CharStream</code>이 따로 존재하지 않기 때문에, 책에 나온 바와 같이 <code class="language-text">IntStream</code>을 반환합니다. 충분히 헷갈릴 수 있으므로 왠만하면 char 값들을 처리할 때는 스트림을 삼가는 편이 낫습니다.</p>
</blockquote>
<p>스트림을 처음 사용하면 모든 반복문을 스트림으로 바꾸고 싶은 유혹에 빠집니다. 하지만 스트림을 너무 장황하게 사용하면 유지보수가 힘들어지고, 가독성이 떨어집니다. 저자는 스트림과 반복문을 적절하게 조합하는 게 최선이라고 말하고 있습니다.</p>
<p>아래와 같은 경우엔 스트림이 안성맞춤입니다.</p>
<ol>
<li>원소들의 시퀀스를 일관되게 변환한다. <code class="language-text">map()</code></li>
<li>원소들의 시퀀스를 필터링한다. <code class="language-text">filter()</code></li>
<li>원소들의 시퀀스를 하나의 연산을 사용해 결합한다. <code class="language-text">sum()</code>, <code class="language-text">max()</code>, <code class="language-text">min()</code></li>
<li>원소들의 시퀀스를 컬렉션에 모은다. <code class="language-text">groupby()</code>, <code class="language-text">collect()</code></li>
<li>원소들의 시퀀스에서 특정 조건을 만족하는 원소를 찾는다. <code class="language-text">findFirst()</code>, <code class="language-text">findAny()</code></li>
</ol>
<h2>스트림을 사용할 수 없는 경우</h2>
<p>스트림을 아예 사용조차 할 수 없는 경우들이 있습니다.</p>
<ol>
<li>스트림에서는 지역 변수가 <code class="language-text">final</code>인 변수만 읽을 수 있고, 지역 변수를 수정하는 건 불가능합니다.</li>
<li>반복문에선 <code class="language-text">return</code>으로 메서드에서 빠져나가거나 <code class="language-text">break</code>, <code class="language-text">continue</code>같이 종료하거나 건너뛸 수 있습니다. 또 검사 예외 같은 것을 던질 수 있지만 스트림에서는 불가능 합니다.</li>
</ol>
<h2>스트림을 사용하기 어려운 경우</h2>
<p>스트림을 사용할 순 있지만 스트림을 사용하면 코드가 지저분해지는 경우가 있습니다. 스트림의 특징 중 하나는 데이터 파이프라인에서 그 단계가 끝나면 원래 값을 잃어버린다는 것입니다. 이런 특징 때문에 파이프라인 각 단계의 값을 참조해야 하는 경우엔 스트림보다 반복문이 더 가독성 높을 수 있습니다.</p>
<h2>결론</h2>
<p>스트림이 반복문보다 항상 더 나은 것은 아닙니다. 스트림이 더 나은 경우도 있고 반복문이 더 나은 경우도 있습니다. 그리고 수많은 작업이 이 둘을 조합했을 때 가장 멋지게 해결됩니다.</p>
<h3>Ref.</h3>
<ul>
<li><a href="https://futurecreator.github.io/2018/08/26/java-8-streams/" target="_blank" rel="nofollow">https://futurecreator.github.io/2018/08/26/java-8-streams/</a></li>
<li><a href="https://futurecreator.github.io/2018/08/26/java-8-streams-advanced/" target="_blank" rel="nofollow">https://futurecreator.github.io/2018/08/26/java-8-streams-advanced/</a></li>
</ul></div><div class="py-0 px-5 md:p-0"></div><footer class=" grid place-items-center mt-auto p-12 text-xs md:text-sm text-center leading-6 text-gray-600">Thank You for Visiting My Blog, Have a Good Day 😆<br/>© 2022 정현모, Powered By Gatsby.</footer></main></div></div></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/effective_java/2022-08-11-[item45]-스트림은 주의해서 사용하라/";window.___webpackCompilationHash="805eacbca74726c03c1b";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-c9fa82aa5b1f9c65f078.js"],"app":["/app-a78b42c803a8871a9da8.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-c308ea52496eeeddd69a.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-92075ccdfd905387e8d5.js"],"component---src-templates-post-template-tsx":["/component---src-templates-post-template-tsx-f99872a7fcfacd9a0b20.js"]};/*]]>*/</script><script src="/polyfill-c9fa82aa5b1f9c65f078.js" nomodule=""></script><script src="/app-a78b42c803a8871a9da8.js" async=""></script><script src="/framework-c57a9454c0e3bef16c3b.js" async=""></script><script src="/webpack-runtime-b084f8035a18a4ba6d0a.js" async=""></script></body></html>