---
title: "[item20] 추상클래스 보다는 인터페이스를 우선하라"
toc_label: "[item20]"
toc: false
toc_sticky: false
---

> **추상클래스 보다는 인터페이스를 우선하라**

자바가 제공하는 다중 구현 메커니즘으로는 인터페이스와 추상 클래스가 존재합니다. 자바8부터 인터페이스도 `default method`를 통해 구현 메서드를 제공할 수 있습니다. 이러한 둘의 가장 큰 차이는 중복 상속이 가능하냐 불가능하냐 입니다. 추상 클래스는 구현 클래스가 반드시 하위 클래스가 되며, 다른 클래스를 상속받을 수 없습니다. 하지만 인터페이스를 구현한 클래스는 다른 인터페이스 역시 구현이 가능합니다.

## 인터페이스를 사용하자.
이 장에서 저자가 하고자 하는 말입니다. 왜 추상 클래스보다 인터페이스를 중요시 하는 지 지금부터 살펴보겠습니다.
1. 기존 클래스에도 손쉽게 새로운 인터페이스를 구현해넣을 수 있다.
2. 인터페이스는 믹스인 정의에 안성맞춤이다.
3. 인터페이스로 계층구조가 없는 타입 프레임워크를 만들 수 있다.

### 1. 기존 클래스에도 손쉽게 새로운 인터페이스를 구현해넣을 수 있다.
기존 클래스에서 새로운 인터페이스를 구현하고자 한다면 인터페이스가 요구하는 메서드만 추가하면 끝입니다. 추상 클래스라면 다른 클래스를 상속하고 잇는 경우 끼워 넣기 어려운 것이 일반적입니다.

### 2. 인터페이스는 믹스인 정의에 안성맞춤이다.
믹스인이란 객체지향언어에서 다른 클래스에서 '사용'할 목적으로 만들어진 클래스 입니다. 인터페이스는 믹스인 정의와 일치하여 `Java`에서는 믹스인을 인터페이스로 사용합니다.

### 3. 인터페이스로 계층구조가 없는 타입 프레임워크를 만들 수 있다.
타입을 계층적으로 정의하면 구조적으로 잘 정의할 수 있지만, 깔끔한 계층 구조가 잘 나오지 않는 것이 현실입니다. 이럴 때 인터페이스를 사용하면 유연한 타입 프레임워크를 만들 수 있습니다. 책에 좋은 예시가 나와있습니다.

## 인터페이스 default 메서드의 제약
default 메서드는 메서드를 미리 구현해줌으로써 클라이언트 프로그래머들의 일감을 덜어줄 수 있다는 장점이 있습니다. 하지만 `equals`나 `hashCode` 같은 메서드는 default 메서드로 정의해서는 안됩니다. 또, 인터페이스는 인스턴스 필드를 가질 수 없기 때문에 유연한 default 메서드를 만들기 힘들 수 있습니다.

이를 위한 대안으로 **템플릿 메서드 패턴**이 있습니다. 템플릿 메서드 패턴이란 인터페이스와 그 인터페이스를 구현한 추상 클래스를 함께 제공함으로써 두 방식의 장점을 모두 취하는 패턴입니다. `AbstractCollection`, `AbstractList`, `AbstractMap`이 그 예시입니다. 

템플릿 메서드 패턴을 이용하면 책에 나온 예시처럼 `equals`, `hashCode` 역시 재정의가 가능합니다. 하지만 추상 클래스는 기본적으로 상속해서 사용하는 것을 가정하기 때문에 **[item19]**에서 얘기한 설계 및 문서화 지침을 모두 따라야 합니다.

## 요약
일반적으로 다중 구현용 타입으로는 인터페이스가 적합합니다. 복잡한 인터페이스라면 골격 구현을 함께 제공하는 방법을 고려해 볼 수 있습니다. 골격 구현은 가능한 한 인터페이스의 디폴트 메서드로 제공하여 인터페이스를 구현한 모든 곳에서 활용하도록 하는 것이 좋습니다.
