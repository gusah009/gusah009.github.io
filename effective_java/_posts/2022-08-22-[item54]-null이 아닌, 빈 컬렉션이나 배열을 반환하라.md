---
title: "[item54] null이 아닌, 빈 컬렉션이나 배열을 반환하라"
toc_label: "[item54]"
toc: false
toc_sticky: false
---

> **null이 아닌, 빈 컬렉션이나 배열을 반환하라**

`null`을 반환하는 형식은 아래와 같이 개발 비용이 많이 드는 일입니다.

1. 클라이언트는 해당 메서드가 `null`을 반환하는지 아닌지 항상 의식해야 한다.
2. 만약 `null`을 반환한다면 그에 합당한 예외처리를 해줘야 한다.
3. `null` 발생 유무를 놓친다면, 한참 뒤에서나 해당 버그를 발견하게 될 수도 있다.

따라서 이 장에서는 컬렉션이나 배열 타입에서는 `null` 대신 빈 컬렉션이나 배열을 반환하길 권장하고 있습니다.

## 성능면에서 빈 컬렉션이나 배열보다 null을 반환하는 것이 낫지 않는가

성능면에서 빈 컬렉션이나 배열보다 null을 반환하는 것이 낫다고 생각할 수 있지만, 큰 성능 차이는 나지 않기 때문에 위의 개발 비용 측면까지 고려하면 빈 컬렉션이나 배열을 반환하는 것이 더 낫습니다.

또, 빈 컬렉션이나 빈 배열은 항상 재할당 할 필요가 없습니다. 그저 빈 배열을 미리 캐싱해두고 사용하면 그만입니다.

## 결론
**null이 아닌, 빈 배열이나 컬렉션을 반환합시다.**

`null`을 반환하는 API는 사용하기 어렵고 오류 처리 코드도 늘어납니다. 심지어 성능이 월등하게 좋아지는 것도 아닙니다.